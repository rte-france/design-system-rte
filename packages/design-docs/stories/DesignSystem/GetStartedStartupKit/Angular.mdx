import { Meta } from "@storybook/blocks";

import HeaderComponent from "../../../src/components/Header/Header";
import Body from "../../../src/components/Body/Body";
import Accordion from "../../../src/components/Accordion/Accordion";
import DocsSection from "../../../src/components/DocsSection/DocsSection";
import Paragraph from "../../../src/components/Paragraph/Paragraph";
import List from "../../../src/components/List/List";

import "../../../src/styles/GeneralDocs.scss";

<Meta title="Design system/Get Started - Kit de démarrage/Angular" />

<div className="docs">
    <div>
        <HeaderComponent title="Démarrage avec Angular" />
        <div style={{ display: "flex", flexDirection: "column", gap: "24px" }}>
            <Paragraph>Le **Design System RTE** est une bibliothèque de composants **Angular** qui permet d'unifier le comportement et l'apparence des interfaces utilisateur à travers les équipes de **RTE France**.</Paragraph>
            <Paragraph>Il est organisé en monorepo avec trois packages principaux. Le package <code>@design-system-rte/core</code> contient les design tokens et interfaces partagées, tandis que <code>@design-system-rte/angular</code> fournit les composants **Angular** spécifiques. Cette architecture permet une maintenance centralisée tout en offrant des implémentations optimisées pour chaque framework.</Paragraph>
        </div>
    </div>
    
    <Body>

        <Accordion title="Installation" id="installation">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Pour installer le design system dans votre projet **Angular**, exécutez la commande suivante :</Paragraph>

                ```bash
                npm install @design-system-rte/angular
                ```

                <Paragraph>Le package <code>@design-system-rte/core</code> sera automatiquement installé comme dépendance pour accéder directement aux design tokens et interfaces **TypeScript**.</Paragraph>

                <DocsSection title="Prérequis et Peer Dependencies" headingLevel={3}>
                    <Paragraph>Ce guide suppose que vous avez déjà une application **Angular** existante. La version d'**Angular** doit être **18** ou supérieure.<br/>Le package utilise aussi les peer dependencies suivantes (qui devraient déjà être présentes dans votre projet) :</Paragraph>
                    <List>
                        <li><code>@angular/common : ^18.0.0</code></li>
                        <li><code>@angular/core : ^18.0.0</code></li>
                        <li><code>sass : ^1.85.0</code></li>
                    </List>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Configuration initiale" id="setup-configuration">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <DocsSection title="Ajouter le mixin Branding/Theme et la police" headingLevel={3}>
                    <Paragraph>Incluez le mixin **branding/theme** et la police dans votre fichier `.scss` principal (généralement `styles.scss` à la racine de votre projet). Cela créera une portée de style pour les composants.</Paragraph>

                    ```scss
                    @use "@design-system-rte/core/design-tokens/main" as *;
                    @use "@design-system-rte/core/design-tokens/fonts" as *;

                    @include theme-selector('bleu_iceberg', 'light');
                    ```

                    <Paragraph>Les thèmes disponibles sont :</Paragraph>
                    <List>
                        <li><code>bleu_iceberg</code> (thème par défaut)</li>
                        <li><code>vert_foret</code></li>
                        <li><code>violet</code></li>
                    </List>

                    <Paragraph>Chaque thème supporte les modes <code>light</code> et <code>dark</code>.</Paragraph>
                </DocsSection>

                <DocsSection title="Ajouter la police Nunito" headingLevel={3}>
                    <Paragraph>Dans `angular.json`, ajoutez les lignes suivantes dans la section `assets` pour qu'elle soit incluse globalement dans votre application.</Paragraph>

                    ```json
                    {
                        "glob": "**/*",
                        "input": "node_modules/@design-system-rte/core/assets/fonts",
                        "output": "assets/fonts"
                    }
                    ```

                </DocsSection>

                <DocsSection title="Ajouter les sélecteurs HTML" headingLevel={3}>
                    <Paragraph>Ajoutez les attributs <code>data-theme</code> et <code>data-mode</code> sur l'élément <code>&lt;body&gt;</code> de votre application pour définir le contexte d'application des styles des composants.</Paragraph>

                    ```html
                    <body data-theme="bleu_iceberg" data-mode="light">
                      <app-root></app-root>
                    </body>
                    ```

                    <Paragraph>Ces attributs peuvent être modifiés dynamiquement pour changer de thème ou de mode (clair/sombre) à l'exécution.</Paragraph>
                </DocsSection>

                <DocsSection title="Configuration des icônes" headingLevel={3}>
                    <Paragraph>Pour utiliser le composant Icon (<code>rte-icon</code>), vous devez copier les fichiers `.svg` depuis le package core vers votre application.</Paragraph>
                    <Paragraph>Copiez les fichiers depuis <code>node_modules/@design-system-rte/core/assets/icons</code> vers le répertoire <code>/assets/icons</code> de votre application.</Paragraph>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Exemple d'utilisation" id="quick-example">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                ```typescript
                import { Component } from '@angular/core';
                import { ButtonComponent } from '@design-system-rte/angular';

                @Component({
                  selector: 'app-example',
                  imports: [ButtonComponent],
                  template: `
                    <button
                      rteButton
                      rteButtonVariant="primary"
                      rteButtonSize="m"
                      (click)="handleClick()"
                    >
                      Click me
                    </button>
                  `
                })
                export class ExampleComponent {
                  handleClick() {
                    console.log('Button clicked!');
                  }
                }
                ```

                <Paragraph>Vous pouvez lire le reste de la documentation du composant **Button** (<code>rteButton</code>) sur le <a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/angular_composants-button--docs">Storybook du composant</a>.</Paragraph>
            </div>
        </Accordion>

        <Accordion title="Thématisation et personnalisation" id="theming-customization">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <DocsSection title="Thèmes disponibles" headingLevel={3}>
                    <Paragraph>Le design system RTE propose trois thèmes de marque :</Paragraph>
                    <List>
                        <li><code>bleu_iceberg</code> : Thème par défaut avec une palette de bleus</li>
                        <li><code>vert_foret</code> : Thème avec une palette de verts</li>
                        <li><code>violet</code> : Thème avec une palette de violets</li>
                    </List>

                    <Paragraph>Chaque thème supporte les modes clair (<code>light</code>) et sombre (<code>dark</code>).</Paragraph>
                </DocsSection>

                <DocsSection title="Changer de thème" headingLevel={3}>
                    <Paragraph>Pour changer de thème, modifiez les attributs <code>data-theme</code> et <code>data-mode</code> sur l'élément qui heberge le thème.</Paragraph>

                    ```html
                    <!-- Thème bleu_iceberg en mode clair -->
                    <body data-theme="bleu_iceberg" data-mode="light">

                    <!-- Thème vert_foret en mode sombre -->
                    <body data-theme="vert_foret" data-mode="dark">
                    ```

                    <Paragraph>Vous pouvez également changer ces attributs dynamiquement pour changer le thème ou mode pendant l'exécution de l'application.</Paragraph>
                </DocsSection>

                <DocsSection title="Variantes de composants" headingLevel={3}>
                    <Paragraph>La plupart des composants du design system proposent plusieurs variantes et options de personnalisation. Consultez la documentation de chaque composant dans le <a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/angular_composants-button--docs">Storybook</a> pour découvrir toutes les options disponibles.</Paragraph>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Prochaines étapes" id="whats-next">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Maintenant que vous avez configuré le design system dans votre projet, voici quelques ressources pour aller plus loin :</Paragraph>
                <List>
                    <li><a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/angular_composants-button--docs">Documentation des composants Angular</a> : Explorez tous les composants disponibles dans le Storybook</li>
                    <li><a href="https://opensource.rte-france.com/design-system-rte/?path=/design-system-get-started-kit-de-migration-angular--docs">Guide de migration</a> : Si vous migrez depuis RGO-lib ou si vous utilises Angular Material déjà dans votre projet</li>
                </List>
            </div>
        </Accordion>

        <Accordion title="Changelogs" id="changelogs">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Le design system utilise <a href="https://github.com/changesets/changesets">Changesets</a> pour la gestion des versions dans le monorepo. Les mises à jour majeures seront documentées dans le <a href="https://github.com/rte-france/design-system-rte/blob/main/packages/angular/projects/ds-rte-lib/CHANGELOG.md">CHANGELOG de ce package.</a></Paragraph>
                <Paragraph>Pour lire les changelogs de tous les packages, consultez le <a href="https://github.com/rte-france/design-system-rte/blob/main/CHANGELOG.md">CHANGELOG principal</a>.</Paragraph>
            </div>
        </Accordion>
    </Body>

</div>
