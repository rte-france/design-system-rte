import { Meta } from "@storybook/blocks";

import HeaderComponent from "../../../src/components/Header/Header";
import Body from "../../../src/components/Body/Body";
import Accordion from "../../../src/components/Accordion/Accordion";
import DocsSection from "../../../src/components/DocsSection/DocsSection";
import Paragraph from "../../../src/components/Paragraph/Paragraph";
import List from "../../../src/components/List/List";
import Heading from "../../../src/components/Heading/Heading";

import "../../../src/styles/GeneralDocs.scss";

<Meta title="Design system/Get Started - Kit de démarrage/React" />

<div className="docs">
    <div>
        <HeaderComponent title="Démarrage avec React" />
        <div style={{ display: "flex", flexDirection: "column", gap: "24px" }}>
            <Paragraph>Le **Design System RTE** est une bibliothèque de composants **React** qui permet d'unifier le comportement et l'apparence des interfaces utilisateur à travers les équipes de **RTE France**.</Paragraph>
            <Paragraph>Il est organisé en monorepo avec trois packages principaux. Le package <code>@design-system-rte/core</code> contient les design tokens et interfaces partagées, tandis que <code>@design-system-rte/react</code> fournit les composants **React** spécifiques. Cette architecture permet une maintenance centralisée tout en offrant des implémentations optimisées pour chaque framework.</Paragraph>
        </div>
    </div>
    
    <Body>

        <Accordion title="Installation" id="installation">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Pour installer le design system dans votre projet **React**, exécutez la commande suivante :</Paragraph>

                ```bash
                npm install @design-system-rte/react
                ```

                <Paragraph>Le package <code>@design-system-rte/core</code> sera automatiquement installé comme dépendance pour accéder directement aux design tokens et interfaces **TypeScript**.</Paragraph>

                <DocsSection title="Prérequis et Peer Dependencies" headingLevel={3}>
                    <Paragraph>Ce guide suppose que vous avez déjà une application **React** existante. La version de **React** doit être **18** ou supérieure.<br/>Le package utilise aussi les peer dependencies suivantes (qui devraient déjà être présentes dans votre projet) :</Paragraph>
                    <List>
                        <li><code>react : >=18.0.0</code></li>
                    </List>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Configuration initiale" id="setup-configuration">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <DocsSection title="Ajouter les styles de base du Design System" headingLevel={3}>
                    <Paragraph>Importez les styles de base du design system dans votre point d'entrée principal (généralement <code>main.tsx</code> ou <code>index.tsx</code>).</Paragraph>

                    ```typescript
                    import "@design-system-rte/react/style.css";
                    import "@design-system-rte/core/css/rte-fonts.css";

                    createRoot(document.getElementById("root")!).render(
                      <StrictMode>
                        <App />
                      </StrictMode>,
                    );
                    ```
                </DocsSection>

                <DocsSection title="Ajouter le mixin Branding/Theme" headingLevel={3}>
                    <Paragraph>Incluez le mixin **branding/theme** dans votre fichier `.scss` principal (généralement `styles.scss` ou `index.scss` à la racine de votre projet). Cela créera une portée de style pour les composants.</Paragraph>
                    <Paragraph className="light-gray">(Si vous n'avez pas de support scss, vous pouvez utiliser les fichiers .css dans <code>@design-system-rte/core/css/rte-themes.css</code> et les ajouter à votre fichier principal (<code>main.tsx</code> ou <code>index.tsx</code>)).</Paragraph>

                    ```scss
                     @use "@design-system-rte/core/design-tokens/main" as *;
                    @use "@design-system-rte/core/design-tokens/fonts" as *;

                    @include theme-selector('bleu_iceberg', 'light');
                    ```

                    <Paragraph>Les thèmes disponibles sont :</Paragraph>
                    <List>
                        <li><code>bleu_iceberg</code> (thème par défaut)</li>
                        <li><code>vert_foret</code></li>
                        <li><code>violet</code></li>
                    </List>

                    <Paragraph>Chaque thème supporte les modes <code>light</code> et <code>dark</code>.</Paragraph>
                </DocsSection>

                <DocsSection title="Ajouter les sélecteurs HTML" headingLevel={3}>
                    <Paragraph>Ajoutez les attributs <code>data-theme</code> et <code>data-mode</code> sur l'élément <code>&lt;body&gt;</code> de votre application pour définir le contexte d'application des styles des composants.</Paragraph>

                    ```html
                    <body data-theme="bleu_iceberg" data-mode="light">
                      <div id="root"></div>
                    </body>
                    ```

                    <Paragraph>Ces attributs peuvent être modifiés dynamiquement pour changer de thème ou de mode (clair/sombre) à l'exécution.</Paragraph>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Exemple d'utilisation" id="quick-example">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                ```typescript
                import { Button } from "@design-system-rte/react";

                function Example() {
                  const handleClick = () => {
                    console.log('Button clicked!');
                  };

                  return (
                    <Button
                      label="Click me"
                      variant="primary"
                      size="m"
                      onClick={handleClick}
                    />
                  );
                }
                ```

                <Paragraph>Vous pouvez lire le reste de la documentation du composant **Button** sur le <a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/react_composants-button--docs">Storybook du composant</a>.</Paragraph>
            </div>
        </Accordion>

        <Accordion title="Thématisation et personnalisation" id="theming-customization">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <DocsSection title="Thèmes disponibles" headingLevel={3}>
                    <Paragraph>Le design system RTE propose trois thèmes de marque :</Paragraph>
                    <List>
                        <li><code>bleu_iceberg</code> : Thème par défaut avec une palette de bleus</li>
                        <li><code>vert_foret</code> : Thème avec une palette de verts</li>
                        <li><code>violet</code> : Thème avec une palette de violets</li>
                    </List>

                    <Paragraph>Chaque thème supporte les modes clair (<code>light</code>) et sombre (<code>dark</code>).</Paragraph>
                </DocsSection>

                <DocsSection title="Changer de thème" headingLevel={3}>
                    <Paragraph>Pour changer de thème, modifiez les attributs <code>data-theme</code> et <code>data-mode</code> sur l'élément qui héberge le thème.</Paragraph>

                    ```html
                    <!-- Thème bleu_iceberg en mode clair -->
                    <body data-theme="bleu_iceberg" data-mode="light">

                    <!-- Thème vert_foret en mode sombre -->
                    <body data-theme="vert_foret" data-mode="dark">
                    ```

                    <Paragraph>Vous pouvez également changer ces attributs dynamiquement pour changer le thème ou mode pendant l'exécution de l'application.</Paragraph>
                </DocsSection>

                <DocsSection title="Variantes de composants" headingLevel={3}>
                    <Paragraph>La plupart des composants du design system proposent plusieurs variantes et options de personnalisation. Consultez la documentation de chaque composant dans le <a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/react_composants-button--docs">Storybook</a> pour découvrir toutes les options disponibles.</Paragraph>
                </DocsSection>
            </div>
        </Accordion>

        <Accordion title="Prochaines étapes" id="whats-next">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Maintenant que vous avez configuré le design system dans votre projet, voici quelques ressources pour aller plus loin :</Paragraph>
                <List>
                    <li><a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/react_composants-button--docs">Documentation des composants React</a> : Explorez tous les composants disponibles dans le Storybook</li>
                    <li><a href="https://opensource.rte-france.com/design-system-rte/?path=/docs/design-system-get-started-kit-de-migration-react--docs">Guide de migration</a> : Si vous utilisez Tailwind déjà dans votre projet</li>
                </List>
            </div>
        </Accordion>

        <Accordion title="Changelogs" id="changelogs">
            <div style={{ display: "flex", flexDirection: "column", gap: "24px", padding: "4px 8px" }}>
                <Paragraph>Le design system utilise <a href="https://github.com/changesets/changesets">Changesets</a> pour la gestion des versions dans le monorepo. Les mises à jour majeures seront documentées dans le <a href="https://github.com/rte-france/design-system-rte/blob/main/packages/react/CHANGELOG.md">CHANGELOG de ce package.</a></Paragraph>
                <Paragraph>Pour lire les changelogs de tous les packages, consultez le <a href="https://github.com/rte-france/design-system-rte/blob/main/CHANGELOG.md">CHANGELOG principal</a>.</Paragraph>
            </div>
        </Accordion>
    </Body>

</div>
