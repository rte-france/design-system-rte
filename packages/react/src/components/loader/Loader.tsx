import { loaderSize } from "@design-system-rte/core/components/loader/loader.constants";
import { LoaderProps as CoreLoaderProps } from "@design-system-rte/core/components/loader/loader.interface";
import { forwardRef } from "react";

import { concatClassNames } from "../utils";

import style from "./Loader.module.scss";

interface LoaderProps extends CoreLoaderProps, React.HTMLAttributes<HTMLDivElement> {}

const Loader = forwardRef<HTMLDivElement, LoaderProps>(
  (
    { appearance = "brand", size = "medium", showLabel = true, label, labelPosition = "right", className, ...props },
    ref,
  ) => {
    return (
      <div
        className={concatClassNames(style.loader, className)}
        data-appearance={appearance}
        data-label-position={labelPosition}
        ref={ref}
        {...props}
      >
        {appearance == "brand" ? (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width={loaderSize[size]}
            height={loaderSize[size]}
            className={style.svgLoader}
            viewBox="0 0 48 48"
            fill="none"
          >
            <g clipPath="url(#paint0_angular_4438_67_clip_path)" data-figma-skip-parse="true">
              <g transform="matrix(0.0240793 7.6297e-08 -7.62968e-08 0.0240017 24.0001 24.0003)">
                <foreignObject x="-999.939" y="-999.939" width="1999.88" height="1999.88">
                  <div
                    style={{
                      background: "conic-gradient(from 90deg,rgba(41, 100, 160, 0) 0deg,rgba(41, 100, 160, 1) 360deg)",
                      height: "100%",
                      width: "100%",
                      opacity: 1,
                    }}
                  ></div>
                </foreignObject>
              </g>
            </g>
            <path
              d="M23.9269 0.000388189C30.296 -0.0295367 36.417 2.4654 40.9454 6.93691C44.9866 10.9275 47.4648 16.2012 47.9796 21.809C48.0828 22.9328 47.1647 23.8555 46.0363 23.8627C44.9079 23.8698 43.998 22.958 43.8751 21.8363C43.3798 17.3109 41.3426 13.0674 38.0714 9.8373C34.3129 6.12602 29.2327 4.05571 23.9464 4.08047C18.66 4.10534 13.5995 6.22361 9.87609 9.97011C6.1527 13.7167 4.07043 18.7851 4.08703 24.0629C4.10364 29.3406 6.21709 34.3964 9.96399 38.1195C13.7109 41.8427 18.7849 43.9286 24.0714 43.9203C29.3579 43.912 34.4251 41.8095 38.1603 38.0746C41.4109 34.8241 43.422 30.5687 43.8888 26.0404C44.0045 24.918 44.9079 24.0006 46.0363 24.0004C47.1648 24.0004 48.0893 24.917 47.9933 26.0414C47.5138 31.6525 45.068 36.9416 41.0519 40.9574C36.5518 45.4572 30.4473 47.9903 24.0782 48.0004C17.709 48.0104 11.5955 45.4969 7.08117 41.0111C2.56686 36.5254 0.0201276 30.4343 0.000118312 24.0756C-0.0198507 17.7169 2.48874 11.61 6.97473 7.09609C11.4607 2.58224 17.5578 0.0303524 23.9269 0.000388189Z"
              data-figma-gradient-fill='{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":0.16078431904315948,"g":0.39215686917304993,"b":0.62745100259780884,"a":0.0},"position":0.0},{"color":{"r":0.16078431904315948,"g":0.39215686917304993,"b":0.62745100259780884,"a":1.0},"position":1.0}],"stopsVar":[{"color":{"r":0.16078431904315948,"g":0.39215686917304993,"b":0.62745100259780884,"a":0.0},"position":0.0},{"color":{"r":0.16078431904315948,"g":0.39215686917304993,"b":0.62745100259780884,"a":1.0},"position":1.0}],"transform":{"m00":48.158504486083984,"m01":-0.00015259353676810861,"m02":-0.079098686575889587,"m10":0.00015259397332556546,"m11":48.003398895263672,"m12":-0.0015066617634147406},"opacity":1.0,"blendMode":"NORMAL","visible":true}'
            />
            <defs>
              <clipPath id="paint0_angular_4438_67_clip_path">
                <path d="M23.9269 0.000388189C30.296 -0.0295367 36.417 2.4654 40.9454 6.93691C44.9866 10.9275 47.4648 16.2012 47.9796 21.809C48.0828 22.9328 47.1647 23.8555 46.0363 23.8627C44.9079 23.8698 43.998 22.958 43.8751 21.8363C43.3798 17.3109 41.3426 13.0674 38.0714 9.8373C34.3129 6.12602 29.2327 4.05571 23.9464 4.08047C18.66 4.10534 13.5995 6.22361 9.87609 9.97011C6.1527 13.7167 4.07043 18.7851 4.08703 24.0629C4.10364 29.3406 6.21709 34.3964 9.96399 38.1195C13.7109 41.8427 18.7849 43.9286 24.0714 43.9203C29.3579 43.912 34.4251 41.8095 38.1603 38.0746C41.4109 34.8241 43.422 30.5687 43.8888 26.0404C44.0045 24.918 44.9079 24.0006 46.0363 24.0004C47.1648 24.0004 48.0893 24.917 47.9933 26.0414C47.5138 31.6525 45.068 36.9416 41.0519 40.9574C36.5518 45.4572 30.4473 47.9903 24.0782 48.0004C17.709 48.0104 11.5955 45.4969 7.08117 41.0111C2.56686 36.5254 0.0201276 30.4343 0.000118312 24.0756C-0.0198507 17.7169 2.48874 11.61 6.97473 7.09609C11.4607 2.58224 17.5578 0.0303524 23.9269 0.000388189Z" />
              </clipPath>
            </defs>
          </svg>
        ) : (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width={loaderSize[size]}
            height={loaderSize[size]}
            className={style.svgLoader}
            viewBox="0 0 48 48"
            fill="none"
          >
            <g clipPath="url(#paint0_angular_4438_1033_clip_path)" data-figma-skip-parse="true">
              <g transform="matrix(0.0240793 7.6297e-08 -7.62968e-08 0.0240017 24.0001 24.0003)">
                <foreignObject x="-999.939" y="-999.939" width="1999.88" height="1999.88">
                  <div
                    style={{
                      background:
                        "conic-gradient(from 90deg,rgba(255, 255, 255, 0) 0deg,rgba(255, 255, 255, 1) 360deg)",
                      height: "100%",
                      width: "100%",
                      opacity: 1,
                    }}
                  ></div>
                </foreignObject>
              </g>
            </g>
            <path
              d="M23.9269 0.000388189C30.296 -0.0295367 36.417 2.4654 40.9454 6.93691C44.9866 10.9275 47.4648 16.2012 47.9796 21.809C48.0828 22.9328 47.1647 23.8555 46.0363 23.8627C44.9079 23.8698 43.998 22.958 43.8751 21.8363C43.3798 17.3109 41.3426 13.0674 38.0714 9.8373C34.3129 6.12602 29.2327 4.05571 23.9464 4.08047C18.66 4.10534 13.5995 6.22361 9.87609 9.97011C6.1527 13.7167 4.07043 18.7851 4.08703 24.0629C4.10364 29.3406 6.21709 34.3964 9.96399 38.1195C13.7109 41.8427 18.7849 43.9286 24.0714 43.9203C29.3579 43.912 34.4251 41.8095 38.1603 38.0746C41.4109 34.8241 43.422 30.5687 43.8888 26.0404C44.0045 24.918 44.9079 24.0006 46.0363 24.0004C47.1648 24.0004 48.0893 24.917 47.9933 26.0414C47.5138 31.6525 45.068 36.9416 41.0519 40.9574C36.5518 45.4572 30.4473 47.9903 24.0782 48.0004C17.709 48.0104 11.5955 45.4969 7.08117 41.0111C2.56686 36.5254 0.0201276 30.4343 0.000118312 24.0756C-0.0198507 17.7169 2.48874 11.61 6.97473 7.09609C11.4607 2.58224 17.5578 0.0303524 23.9269 0.000388189Z"
              data-figma-gradient-fill='{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":1.0,"g":1.0,"b":1.0,"a":0.0},"position":0.0},{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"position":1.0}],"stopsVar":[{"color":{"r":1.0,"g":1.0,"b":1.0,"a":0.0},"position":0.0},{"color":{"r":1.0,"g":1.0,"b":1.0,"a":1.0},"position":1.0}],"transform":{"m00":48.158504486083984,"m01":-0.00015259353676810861,"m02":-0.079098686575889587,"m10":0.00015259397332556546,"m11":48.003398895263672,"m12":-0.0015066617634147406},"opacity":1.0,"blendMode":"NORMAL","visible":true}'
            />
            <defs>
              <clipPath id="paint0_angular_4438_1033_clip_path">
                <path d="M23.9269 0.000388189C30.296 -0.0295367 36.417 2.4654 40.9454 6.93691C44.9866 10.9275 47.4648 16.2012 47.9796 21.809C48.0828 22.9328 47.1647 23.8555 46.0363 23.8627C44.9079 23.8698 43.998 22.958 43.8751 21.8363C43.3798 17.3109 41.3426 13.0674 38.0714 9.8373C34.3129 6.12602 29.2327 4.05571 23.9464 4.08047C18.66 4.10534 13.5995 6.22361 9.87609 9.97011C6.1527 13.7167 4.07043 18.7851 4.08703 24.0629C4.10364 29.3406 6.21709 34.3964 9.96399 38.1195C13.7109 41.8427 18.7849 43.9286 24.0714 43.9203C29.3579 43.912 34.4251 41.8095 38.1603 38.0746C41.4109 34.8241 43.422 30.5687 43.8888 26.0404C44.0045 24.918 44.9079 24.0006 46.0363 24.0004C47.1648 24.0004 48.0893 24.917 47.9933 26.0414C47.5138 31.6525 45.068 36.9416 41.0519 40.9574C36.5518 45.4572 30.4473 47.9903 24.0782 48.0004C17.709 48.0104 11.5955 45.4969 7.08117 41.0111C2.56686 36.5254 0.0201276 30.4343 0.000118312 24.0756C-0.0198507 17.7169 2.48874 11.61 6.97473 7.09609C11.4607 2.58224 17.5578 0.0303524 23.9269 0.000388189Z" />
              </clipPath>
            </defs>
          </svg>
        )}
        {showLabel && (
          <span role="status" aria-live="polite" className={style.label} data-size={size} data-appearance={appearance}>
            {label}
          </span>
        )}
      </div>
    );
  },
);

export default Loader;
