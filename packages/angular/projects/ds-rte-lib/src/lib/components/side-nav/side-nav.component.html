<rte-base-side-nav
  [size]="size()"
  [collapsed]="isCollapsed()"
  [appearance]="appearance()">
  <div side-nav-header>
    <div class="side-nav-header-container">
      <div [class]="headerTitleClasses()">
        @if (headerConfig()?.link) {
          <a
            class="side-nav-header-title-container"
            [href]="headerConfig()!.link!"
            [attr.aria-label]="headerConfig()?.ariaLabel"
            (click)="handleHeaderClick()">
            <div class="side-nav-header-title">
              <div class="side-nav-header-identifier">{{ headerConfig()?.identifier }}</div>
              @if (!isCollapsed()) {
                <h1 [class]="headerVersionClasses()">{{ headerConfig()?.title }}</h1>
              }
            </div>
          </a>
        } @else if (headerConfig()?.onClick) {
          <div
            class="side-nav-header-title-container"
            tabindex="0"
            role="button"
            [attr.aria-label]="headerConfig()?.ariaLabel"
            (click)="handleHeaderClick()"
            (keydown)="handleHeaderKeyDown($event)">
            <div class="side-nav-header-title">
              <div class="side-nav-header-identifier">{{ headerConfig()?.identifier }}</div>
              @if (!isCollapsed()) {
                <h1 [class]="headerVersionClasses()">{{ headerConfig()?.title }}</h1>
              }
            </div>
          </div>
        } @else {
          <div class="side-nav-header-title-container">
            <div class="side-nav-header-title">
              <div class="side-nav-header-identifier">{{ headerConfig()?.identifier }}</div>
              @if (!isCollapsed()) {
                <h1 [class]="headerVersionClasses()">{{ headerConfig()?.title }}</h1>
              }
            </div>
          </div>
        }
        <div class="side-nav-header-version" [class]="headerVersionClasses()">
          <span>{{ headerConfig()?.version }}</span>
        </div>
      </div>
      <rte-divider [appearance]="dividerAppearance()"></rte-divider>
    </div>
  </div>
  <div side-nav-body>
    <div class="side-nav-body">
      <ul>
        @for (item of items(); track item.label) {
          @if (hasNestedItems(item)) {
            <rte-nav-menu
              [label]="item.label"
              [icon]="item.icon"
              [showIcon]="item.showIcon ?? true"
              [collapsed]="isCollapsed()"
              [link]="item.link"
              [onClick]="item.onClick"
              [items]="item.items || []"
              [appearance]="appearance()"
              [badge]="item.badge"
              [showDivider]="item.showDivider ?? false"></rte-nav-menu>
          } @else {
            <li>
              <rte-nav-item
                [id]="item.id"
                [label]="item.label"
                [icon]="item.icon"
                [showIcon]="item.showIcon ?? true"
                [collapsed]="isCollapsed()"
                [link]="item.link"
                [onClick]="item.onClick"
                [appearance]="appearance()"
                [active]="item.active ?? false"
                [badge]="item.badge"></rte-nav-item>
            </li>
          }
        }
      </ul>
    </div>
  </div>
  @if (collapsible()) {
    <div side-nav-footer>
      <div class="side-nav-footer-container">
        <rte-divider [appearance]="dividerAppearance()"></rte-divider>
        <div class="side-nav-footer">
          <div class="collapsible-section">
            <ul>
              <li>
                <rte-nav-item
                  [label]="isCollapsed() ? 'Ouvrir le menu' : 'RÃ©duire le menu'"
                  [icon]="collapseIcon()"
                  [collapsed]="isCollapsed()"
                  [onClick]="getCollapseHandler()"
                  [appearance]="appearance()"></rte-nav-item>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  }
  <div side-nav-content>
    <ng-content select="[content]"></ng-content>
  </div>
</rte-base-side-nav>
