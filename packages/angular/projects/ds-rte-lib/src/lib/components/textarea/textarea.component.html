<div class="container" [attr.data-label-position]="labelPosition()">
  <div class="header-container" [attr.data-label-position]="labelPosition()">
    <label *ngIf="label()" [attr.id]="labelId()" [attr.for]="id()">
      {{ label()}}
      <span *ngIf="required()" class="required-indicator {{requiredAppearance()}}" aria-hidden="true">
        {{ requiredIndicator() }}
      </span>
    </label>
    <span *ngIf="maxLength()" class="character-counter">{{ characterCount }}/{{ maxLength() }}</span>
  </div>
  <div class="textarea-container" [attr.data-label-position]="labelPosition()">
    <textarea
      #textarea
      class="textarea {{ resizeable() ? 'resizeable' : '' }} {{ assistiveTextAppearance() }}"
      [attr.id]="id()"
      [attr.name]="name()"
      [attr.aria-labelledby]="labelId() || ariaLabelledby()"
      [attr.required]="required() ? true : null"
      [attr.maxLength]="maxLength() !== undefined ? maxLength() : null"
      [attr.disabled]="disabled() ? true : null"
      [attr.readonly]="readOnly() ? true : null"
      [value]="value() !== undefined ? value() : null"
      [defaultValue]="defaultValue() !== undefined ? defaultValue() : null"
      [attr.rows]="rows()"
      (input)="onInput($event)"
      (blur)="onBlur($event)"
    ></textarea>
    <rte-link *ngIf="assistiveTextAppearance() === 'link' && assistiveTextLink() !== undefined" class="assistive-text-link" [externalLink]="true" [href]="assistiveTextLink() || ''" [label]="assistiveTextLabel() || ''">
    </rte-link>
    <div *ngIf="assistiveTextAppearance() !== 'link'" class="assistive-text {{ assistiveTextAppearance() }}">
      <rte-icon *ngIf="assistiveTextAppearance() === 'error'" name="error" [size]="assistiveTextIconSize"></rte-icon>
      <rte-icon *ngIf="assistiveTextAppearance() === 'success'" name="check-circle" [size]="assistiveTextIconSize"></rte-icon>
      <span>{{ assistiveTextLabel() }}</span>
    </div>
  </div>
</div>
