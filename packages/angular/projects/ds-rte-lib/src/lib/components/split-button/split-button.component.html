<div 
  class="split-button-container size-{{ size() }} {{appearance()}}"
  [ngClass]="{'compact-spacing': compactSpacing()}"
>
  <button
    class="split-button-left size-{{ size() }}"
    data-testid="Main action button" 
    type="button"
    [disabled]="disabled()"
  >
    <rte-icon 
      *ngIf="icon()"
      [name]="icon()!"
      [size]="splitButtonLeftIconSize()"
    />
    <p class="split-button-label size-{{ size() }}">
      {{label()}}
    </p>
  </button>

  <div 
    class="split-button-divider"
    [ngClass]="{'disabled': disabled()}"
  ></div>

  <div class="split-button-right-container">
    <button
      class="split-button-right size-{{ size() }}"
      data-testid="Menu button"
      type="button"
      aria-haspopup="menu"
      [attr.aria-expanded]="isOpen()"
      [attr.aria-label]="ariaLabelRight()"
      [attr.data-selected]="selected()"
      [disabled]="disabled()"
      (click)="isOpen.set(true)"
      (mouseenter)="isOpen.set(true)"
      (mouseleave)="isOpen.set(false)"
      (keydown)="handleKeyDownOnRightButton($event)"
    >
      <div class="split-button-right-icon-container">
        <rte-icon name="arrow-chevron-down"[size]="splitButtonRightIconSize()"/>
      </div>
    </button>

    <div
      class="split-button-dropdown position-{{ position() }}"
      role="menu"
      data-testid="Menu container"
      [style.visibility]="isOpen() ? 'visible' : 'hidden'"
      (keydown)="handleKeyDownOnMenu($event)"
    >
      <ng-content/>
    </div>
  </div>
</div>