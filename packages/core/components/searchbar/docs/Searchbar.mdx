import { Meta } from "@storybook/blocks";

import ComponentDocs from "../../../../design-docs/src/components/ComponentDocs/ComponentDocs";
import DocsSection from "../../../../design-docs/src/components/DocsSection/DocsSection";
import Accordion from "../../../../design-docs/src/components/Accordion/Accordion";
import Gerkin from "../../../../design-docs/src/components/Guideline/Gerkin/Gerkin";
import Paragraph from "../../../../design-docs/src/components/Paragraph/Paragraph";
import Usage from "./Usage";
import Options from "./Options";
import Behaviors from "./Behaviors";
import AccessibilityTable from "./AccessibilityTable";

<Meta title="Composants/Searchbar" />

<ComponentDocs
  title="Searchbar"
  description={
    <Paragraph>
      La <b>Searchbar</b> permet à un utilisateur de <b>rechercher du contenu textuel dans une interface</b>. Elle se compose d'un champ de saisie avec un label (visible ou masqué), souvent accompagné d'une icône de loupe. Elle peut proposer un bouton de suppression du contenu saisi ou un affichage de suggestions/autocomplétion. Elle est distincte d'un simple Text Input par son objectif spécifique de recherche et sa forme souvent compacte.
    </Paragraph>
  }
  linkFigma="https://www.figma.com/design/Oe33roVZDpZNXWlEn25Z7x/02.0-Storybook?node-id=1454-10468&m=dev"
  linkGithub={{
    react: "https://github.com/rte-france/design-system-rte/tree/main/packages/react/src/components/searchbar",
    angular: "https://github.com/rte-france/design-system-rte/tree/main/packages/angular/projects/ds-rte-lib/src/lib/components/searchbar"
  }}
  disponibility={{
    design: {
      figma: true,
      guidelines: true,
    },
    code: {
      react: true,
      angular: true,
    },
  }}
  changelog={[
    {
      version: "1.0.0",
      date: "04 Décembre 2025",
      changes: ["Livraison du composant"],
    },
  ]}
  options={[
    {
      property: "interactionState",
      value: "enabled / hover / active / completed / disabled",
      defaultValue: "enabled",
      dependance: "-",
    },
    {
      property: "appearance",
      value: "primary / secondary",
      defaultValue: "primary",
      dependance: "-",
    },
    {
      property: "compactSpacing",
      value: "true / false",
      defaultValue: "false",
      dependance: "-",
    },
    {
      property: "label",
      value: "text",
      defaultValue: "Rechercher",
      dependance: "-",
    },
    {
      property: "showResetButton",
      value: "true / false",
      defaultValue: "false",
      dependance: "interactionState = active / completed",
    },
    {
      property: "showAssistiveText",
      value: "true / false",
      defaultValue: "false",
      dependance: "-",
    },
    {
      property: "mode",
      value: "bleu-iceberg_light / bleu-iceberg_dark / violet_light / violet_dark / vert-foret_light / vert-foret_dark",
      defaultValue: "bleu-iceberg_light",
      dependance: "-",
    },
  ]}
  guidelines={
    <>
      <DocsSection>
        <p>
          <i>Composant générique pouvant être utilisé par toutes les équipes de la DSIT.</i>
        </p>
        <Gerkin>
          <ul>
            <li>
              En tant qu'utilisateur <b>recherchant une information</b>,
            </li>
            <li>
              Je souhaite <b>pouvoir saisir du texte dans un champ de recherche dédié</b>,
            </li>
            <li>
              Afin <b>d’afficher un résultat ou obtenir des suggestions pertinentes.</b>
            </li>
          </ul>
        </Gerkin>
      </DocsSection>
      <DocsSection>
        <Usage />
      </DocsSection>
      <DocsSection>
        <Options />
      </DocsSection>
      <DocsSection>
        <Behaviors />
      </DocsSection>
    </>
  }
  accessibility={
    <Accordion title="Accessibility Testing Status">
      <AccessibilityTable />
    </Accordion>
  }
/>
