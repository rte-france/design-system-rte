import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as l}from"./index-G8LIXM5I.js";import{D as v,a as y}from"./DropdownItem-BydF_cK3.js";import{I}from"./IconButton-DLtPB6Kc.js";import{c as B}from"./index-DSdvzt-y.js";import{L as h}from"./Link-DbCKFFRz.js";import{T as x}from"./Tooltip-BKDmN81H.js";const k="Fil d'Ariane",j=3,w=2;function A(r,s=j,a=w){if(_(r,s))return{root:r[0],truncated:r.slice(1,r.length-a),remaining:r.slice(r.length-a)};throw new Error(`Breadcrumbs: 'items' should have at least ${s} items.`)}function _(r,s=j){return r.length>s}const E="_breadcrumbItem_n20so_3",S={breadcrumbItem:E},m=({item:r,isLast:s,breadcrumbItemMaxWidth:a})=>{const[d,b]=l.useState(!1),n=l.useRef(),o=l.useRef(null);return l.useEffect(()=>{var t;o.current&&(n.current=(t=o.current.querySelector("a"))==null?void 0:t.scrollWidth)},[]),l.useEffect(()=>{(()=>{n.current&&a&&b(n.current>=a)})()},[a]),e.jsx("div",{className:S.breadcrumbItem,ref:o,children:s?e.jsx(e.Fragment,{children:d?e.jsx(x,{label:r.label,position:"bottom",alignment:"center",triggerStyles:{maxWidth:`${a}px`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx("a",{role:"link","aria-label":r.label,"aria-current":"page",tabIndex:-1,style:{maxWidth:`${a}px`},children:r.label})}):e.jsx("a",{role:"link","aria-label":r.label,"aria-current":"page",tabIndex:0,style:{maxWidth:`${a}px`},children:r.label})}):e.jsx(e.Fragment,{children:d?e.jsx(x,{label:r.label,position:"bottom",alignment:"center",triggerStyles:{maxWidth:`${a}px`,textOverflow:"ellipsis",whiteSpace:"nowrap"},shouldFocusTrigger:!1,children:e.jsx(h,{href:r.link,label:r.label,subtle:!0,style:{color:"var(--content-tertiary)",maxWidth:`${a}px`}})}):e.jsx(h,{href:r.link,label:r.label,subtle:!0,style:{color:"var(--content-tertiary)",maxWidth:`${a}px`}})})},r.link)};m.__docgenInfo={description:"",methods:[],displayName:"BreadcrumbItem",props:{item:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  label: string;
  link: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"link",value:{name:"string",required:!0}}]}},description:""},isLast:{required:!0,tsType:{name:"boolean"},description:""},breadcrumbItemMaxWidth:{required:!1,tsType:{name:"number"},description:""}}};const L="_breadcrumbsContainer_1blt9_3",R="_breadcrumbItem_1blt9_9",T="_separator_1blt9_38",u={breadcrumbsContainer:L,breadcrumbItem:R,separator:T},g=()=>e.jsx("span",{"aria-hidden":"true",className:u.separator,children:"/"}),C=l.forwardRef(({items:r,ariaLabel:s=k,breadcrumbItemMaxWidth:a,...d},b)=>{const[n,o]=l.useState(!1);if(_(r)){const{root:t,truncated:i,remaining:f}=A(r);return e.jsxs("nav",{ref:b,className:B(u.breadcrumbsContainer,i.length?u.truncated:""),...d,role:"navigation","aria-label":s,children:[e.jsx(m,{item:{label:t.label,link:t.link},isLast:!1,breadcrumbItemMaxWidth:a}),e.jsx(g,{}),e.jsx("span",{className:u.breadcrumbItem,children:e.jsx(v,{dropdownId:"breadcrumbs-truncated-list"+s,onClose:()=>{o(!1)},trigger:e.jsx(I,{name:"more-horiz","data-testid":"show-more",variant:"neutral",compactSpacing:!0,onClick:()=>o(!n)}),isOpen:n,offset:6,children:i.map((c,p)=>e.jsx(y,{label:c.label,link:c.link},c.label+p))})}),e.jsx("span",{"aria-hidden":"true",className:u.separator,children:"/"}),f.map((c,p)=>e.jsxs(l.Fragment,{children:[e.jsx(m,{item:c,isLast:p===f.length-1,breadcrumbItemMaxWidth:a}),p<f.length-1&&e.jsx(g,{})]},c.label+p))]})}return e.jsx("nav",{ref:b,className:u.breadcrumbsBadge,...d,role:"navigation","aria-label":"Fil d'Ariane",children:r.map((t,i)=>e.jsxs(l.Fragment,{children:[e.jsx(m,{item:t,isLast:i===r.length-1,breadcrumbItemMaxWidth:a}),i<r.length-1&&e.jsx(g,{})]},t.label+i))})});C.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{ariaLabel:{defaultValue:{value:`"Fil d'Ariane"`,computed:!1},required:!1}},composes:["BreadcrumbsPropsCore"]};export{C as B};
