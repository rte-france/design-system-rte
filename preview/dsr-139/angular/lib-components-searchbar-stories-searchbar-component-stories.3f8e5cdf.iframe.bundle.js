(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[12119],{"../core/constants/keyboard/keyboard-test.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$v:()=>TESTING_UP_KEY,G7:()=>TESTING_ENTER_KEY,Rl:()=>TESTING_ESCAPE_KEY,ZX:()=>TESTING_ARROW_LEFT_KEY,oz:()=>TESTING_DOWN_KEY,s1:()=>TESTING_ARROW_RIGHT_KEY,u5:()=>TESTING_SPACE_KEY});var _keyboard_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts");const TESTING_SPACE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.zP}}`,TESTING_ENTER_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.jD}}`,TESTING_ESCAPE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.aH}}`,TESTING_UP_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.M0}}`,TESTING_DOWN_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.tt}}`,TESTING_ARROW_RIGHT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.Zh}}`,TESTING_ARROW_LEFT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.ST}}`},"./projects/ds-rte-lib/src/lib/components/searchbar/searchbar.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:wght,FILL,GRAD@400,0,0&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,".searchbar-container {\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n}\n.searchbar-container .text-input-wrapper rte-text-input ::ng-deep .container {\n  height: 24px;\n  min-height: 24px;\n}\n.searchbar-container .text-input-wrapper rte-text-input ::ng-deep .container .input-container .input .input-bar .input-field {\n  border-radius: 4px 0 0 4px;\n}\n.searchbar-container .text-input-wrapper rte-text-input ::ng-deep .container .input-container .input .input-bar:not(.with-left-icon) .input-field {\n  padding-left: 8px;\n}\n.searchbar-container .text-input-wrapper .search-button ::ng-deep button {\n  width: 44px;\n  border-radius: 0 4px 4px 0;\n  justify-content: center;\n}\n.searchbar-container .text-input-wrapper .search-button ::ng-deep button.compact-spacing {\n  height: 24px;\n}\n.searchbar-container.primary .text-input-wrapper rte-text-input ::ng-deep .input-container .input .input-bar .input-field {\n  border-right: none;\n}\n.searchbar-container.secondary .text-input-wrapper rte-text-input ::ng-deep .input-container .input .input-bar .input-field {\n  border-radius: 4px;\n}\n\n.searchbar-wrapper {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: fit-content;\n}\n\n.text-input-wrapper {\n  min-width: 0;\n  display: flex;\n  align-items: stretch;\n  border-radius: 4px;\n  transition: outline 200ms, border 200ms;\n}\n.text-input-wrapper.focused {\n  outline: 1px solid var(--border-brand-default);\n  outline-offset: 0;\n}\n\n.search-button {\n  flex-shrink: 0;\n}\n\n.dropdown-trigger {\n  display: flex;\n  align-items: center;\n  width: 300px;\n}\n.dropdown-trigger rte-text-input {\n  display: flex;\n  flex: 1;\n  min-width: 0;\n}\n.dropdown-trigger rte-text-input ::ng-deep .container {\n  width: unset;\n  max-width: 100%;\n}\n.dropdown-trigger .search-button {\n  flex-shrink: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/searchbar/stories/searchbar.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardNavigationAndSearch:()=>KeyboardNavigationAndSearch,KeyboardNavigationWithFilteredOptions:()=>KeyboardNavigationWithFilteredOptions,WithDropdown:()=>WithDropdown,WithFilteredOptions:()=>WithFilteredOptions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>searchbar_component_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),keyboard_test_constants=__webpack_require__("../core/constants/keyboard/keyboard-test.constants.ts"),dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var searchbar_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/searchbar/searchbar.component.scss?ngResource"),searchbar_componentngResource_default=__webpack_require__.n(searchbar_componentngResource),common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs");const APPEARANCE_CONFIG={primary:{showSearchButton:!0,showLeftIcon:!1},secondary:{showSearchButton:!1,showLeftIcon:!0}};var keyboard_constants=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts"),dropdown_module=__webpack_require__("./projects/ds-rte-lib/src/lib/components/dropdown/dropdown.module.ts"),icon_button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon-button/icon-button.component.ts"),text_input_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/text-input/text-input.component.ts");let SearchbarComponent=class SearchbarComponent{constructor(){this.id=(0,core.input)(),this.label=(0,core.input)(""),this.placeholder=(0,core.input)("Rechercher"),this.disabled=(0,core.input)(!1),this.name=(0,core.input)(),this.showResetButton=(0,core.input)(!0),this.appearance=(0,core.input)("primary"),this.compactSpacing=(0,core.input)(!1),this.value=(0,core.input)(""),this.assistiveText=(0,core.input)(""),this.options=(0,core.input)([]),this.isOpen=(0,core.input)(void 0),this.valueChange=(0,core.output)(),this.search=(0,core.output)(),this.optionSelect=(0,core.output)(),this.openChange=(0,core.output)(),this.cdr=(0,core.inject)(core.ChangeDetectorRef),this.elementRef=(0,core.inject)(core.ElementRef),this.internalValue=(0,core.signal)(this.value()),this.isOpenValue=(0,core.signal)(!1),this.isFocused=(0,core.signal)(!1),this.textInputWidth=(0,core.signal)(void 0),this.appearanceConfig=(0,core.computed)(()=>APPEARANCE_CONFIG[this.appearance()]),this.dropdownId=(0,core.computed)(()=>`${this.id()??"searchbar"}-dropdown`),this.dropdownItems=(0,core.computed)(()=>this.options().map(option=>({label:option}))),this.isOpenComputed=(0,core.computed)(()=>this.isOpen()??this.isOpenValue()),this.DROPDOWN_OFFSET=10,this.lastParentValue=this.value(),(0,core.effect)(()=>{const parentValue=this.value();parentValue!==this.lastParentValue&&(this.lastParentValue=parentValue,this.internalValue.set(parentValue))},{allowSignalWrites:!0}),(0,core.effect)(()=>{void 0===this.isOpen()&&this.options().length>0&&this.isOpenValue.set(!0)},{allowSignalWrites:!0}),(0,core.effect)(()=>{const isOpen=this.isOpenComputed(),appearanceConfig=this.appearanceConfig();if(isOpen){const updateWidth=()=>{const dropdownTrigger=this.elementRef.nativeElement.querySelector(".dropdown-trigger");if(dropdownTrigger){const inputWidth=dropdownTrigger.getBoundingClientRect().width-(appearanceConfig.showSearchButton?parseInt("44px",10):0);this.textInputWidth.set(inputWidth)}};updateWidth(),setTimeout(updateWidth,0)}else this.textInputWidth.set(void 0)},{allowSignalWrites:!0})}setIsOpen(value){void 0===this.isOpen()&&this.isOpenValue.set(value),this.openChange.emit(value)}close(){this.setIsOpen(!1)}ngAfterViewInit(){this.cdr.detectChanges(),this.setupFocusListeners()}setupFocusListeners(){const inputElement=this.elementRef.nativeElement.querySelector("input");inputElement&&(inputElement.addEventListener("focus",()=>this.handleFocus()),inputElement.addEventListener("blur",()=>this.handleBlur()),inputElement.addEventListener("keyup",event=>this.handleEnter(event)))}handleChange(value){this.internalValue.set(value),this.valueChange.emit(value)}handleSearch(){this.search.emit(this.internalValue())}handleEnter(event){event.key===keyboard_constants.jD&&this.handleSearch()}handleClear(){this.internalValue.set(""),this.valueChange.emit(""),this.search.emit("")}handleFocus(){this.disabled()||this.isFocused.set(!0)}handleBlur(){this.isFocused.set(!1)}handleDropdownClose(){this.setIsOpen(!1)}handleDropdownSelect(event){const option=event.id;this.setIsOpen(!1),this.internalValue.set(option),this.valueChange.emit(option),this.optionSelect.emit(option)}onMenuEvent(event){this.handleDropdownSelect(event)}static{this.ctorParameters=()=>[]}static{this.propDecorators={id:[{type:core.Input,args:[{isSignal:!0,alias:"id",required:!1,transform:void 0}]}],label:[{type:core.Input,args:[{isSignal:!0,alias:"label",required:!1,transform:void 0}]}],placeholder:[{type:core.Input,args:[{isSignal:!0,alias:"placeholder",required:!1,transform:void 0}]}],disabled:[{type:core.Input,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],name:[{type:core.Input,args:[{isSignal:!0,alias:"name",required:!1,transform:void 0}]}],showResetButton:[{type:core.Input,args:[{isSignal:!0,alias:"showResetButton",required:!1,transform:void 0}]}],appearance:[{type:core.Input,args:[{isSignal:!0,alias:"appearance",required:!1,transform:void 0}]}],compactSpacing:[{type:core.Input,args:[{isSignal:!0,alias:"compactSpacing",required:!1,transform:void 0}]}],value:[{type:core.Input,args:[{isSignal:!0,alias:"value",required:!1,transform:void 0}]}],assistiveText:[{type:core.Input,args:[{isSignal:!0,alias:"assistiveText",required:!1,transform:void 0}]}],options:[{type:core.Input,args:[{isSignal:!0,alias:"options",required:!1,transform:void 0}]}],isOpen:[{type:core.Input,args:[{isSignal:!0,alias:"isOpen",required:!1,transform:void 0}]}],valueChange:[{type:core.Output,args:["valueChange"]}],search:[{type:core.Output,args:["search"]}],optionSelect:[{type:core.Output,args:["optionSelect"]}],openChange:[{type:core.Output,args:["openChange"]}]}}};SearchbarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-searchbar",imports:[common.CommonModule,text_input_component.f,icon_button_component.x,dropdown_module.k],standalone:!0,template:'<div class="searchbar-container" role="search" [ngClass]="appearance()">\n  <div class="searchbar-wrapper">\n    <div\n      class="text-input-wrapper"\n      [ngClass]="{ focused: isFocused() }"\n      [attr.data-disabled]="disabled()"\n    >\n      <div\n        rteDropdown\n        rteDropdownPosition="bottom"\n        [rteDropdownIsOpen]="isOpenComputed()"\n        [rteDropdownOffset]="DROPDOWN_OFFSET"\n        [rteDropdownWidth]="textInputWidth()"\n        [attr.data-dropdown-id]="dropdownId()"\n        (menuEvent)="onMenuEvent($event)"\n      >\n        <div class="dropdown-trigger" rteDropdownTrigger>\n          <rte-text-input\n            #textInput\n            placeholder="Rechercher"\n            [id]="id() ?? \'\'"\n            [label]="label()"\n            [disabled]="disabled()"\n            [value]="internalValue()"\n            [showRightIcon]="showResetButton()"\n            [rightIconAction]="\'clean\'"\n            [assistiveTextLabel]="assistiveText()"\n            [compactSpacing]="compactSpacing()"\n            [leftIcon]="appearanceConfig().showLeftIcon ? \'search\' : null"\n            (valueChange)="handleChange($event)"\n            (rightIconClick)="handleClear()"\n          />\n          @if (appearanceConfig().showSearchButton) {\n            <rte-icon-button\n              name="search"\n              size="m"\n              variant="primary"\n              appearance="filled"\n              ariaLabel="Search"\n              class="search-button"\n              [disabled]="disabled()"\n              [compactSpacing]="compactSpacing()"\n              [ngClass]="{ \'compact-spacing\': compactSpacing() }"\n              (click)="handleSearch()"\n            />\n          }\n        </div>\n        @if (dropdownItems().length > 0) {\n          <rte-dropdown-menu [items]="dropdownItems()" />\n        }\n      </div>\n    </div>\n  </div>\n</div>\n\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[searchbar_componentngResource_default()]})],SearchbarComponent);const searchbar_component_stories={title:"Searchbar",component:SearchbarComponent,tags:["autodocs"],argTypes:{id:{control:"text"},appearance:{control:"select",options:["primary","secondary"]},compactSpacing:{control:"boolean"},showResetButton:{control:"boolean",defaultValue:!0},assistiveText:{control:"text"},value:{control:"text"},disabled:{control:"boolean"}}},Default={args:{id:"searchbar-default",appearance:"primary",showResetButton:!0,assistiveText:"",value:"",disabled:!1}},WithDropdown={args:{id:"searchbar-with-dropdown",appearance:"primary",showResetButton:!0,assistiveText:"Select a filter option before typing",value:"",disabled:!1,options:["option1","option2","option3"]},render:args=>({props:{...args,onOptionSelect:option=>{console.log("Selected option:",option)}},template:'\n      <rte-searchbar\n        [id]="id"\n        [appearance]="appearance"\n        [showResetButton]="showResetButton"\n        [assistiveText]="assistiveText"\n        [value]="value"\n        [disabled]="disabled"\n        [name]="name"\n        [options]="options"\n        (optionSelect)="onOptionSelect($event)"\n      />\n    '})},WithFilteredOptions={args:{compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2","Banana","Banana2","Cherry","Date","Elderberry","Fig","Grape","Honeydew","Kiwi","Lemon"],searchValue=(0,core.signal)(""),isDropdownOpen=(0,core.signal)(!1),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase()))});return{props:{...args,searchValue,filteredOptions,isDropdownOpen,handleChange:value=>{searchValue.set(value),isDropdownOpen.set(filteredOptions().length>0)},handleOptionSelect:option=>{console.log("Selected option:",option),searchValue.set(option),isDropdownOpen.set(!1)},handleOpenChange:isOpen=>{isDropdownOpen.set(isOpen)}},template:'\n        <rte-searchbar\n          id="searchbar-filtered"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n        />\n      '}}},KeyboardNavigationWithFilteredOptions={args:{compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2"],searchValue=(0,core.signal)(""),isDropdownOpen=(0,core.signal)(!1),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase()))});return{props:{...args,searchValue,filteredOptions,isDropdownOpen,handleChange:value=>{searchValue.set(value),isDropdownOpen.set(filteredOptions().length>0)},handleOptionSelect:option=>{console.log("Selected option:",option),searchValue.set(option),isDropdownOpen.set(!1)},handleOpenChange:isOpen=>{isDropdownOpen.set(filteredOptions().length>=3&&isOpen)}},template:'\n        filteredOptions: {{filteredOptions()}}\n        <rte-searchbar\n          id="searchbar-keyboard-navigation"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          [showResetButton]="true"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n        />\n      '}},play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement}){const input=(0,dist.ux)(canvasElement).getByRole("textbox");yield dist.Q4.click(input),(0,dist.E3)(input).toHaveFocus(),yield dist.Q4.type(input,"app"),yield(0,dist.fm)(()=>{const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-dropdown-id]");(0,dist.E3)(dropdown).toBeInTheDocument()}),yield dist.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-dropdown-id]"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");yield(0,dist.fm)(()=>{(0,dist.E3)(menuItems?.[0]).toHaveFocus()}),yield dist.Q4.keyboard(keyboard_test_constants.oz),(0,dist.E3)(menuItems?.[1]).toHaveFocus(),yield dist.Q4.keyboard(keyboard_test_constants.G7),yield(0,dist.fm)(()=>{(0,dist.E3)(input.value).toBe("Apple2")})}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const KeyboardNavigationAndSearch={args:{compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2"],searchValue=(0,core.signal)(""),isDropdownOpen=(0,core.signal)(!1),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase()))});return{props:{...args,searchValue,filteredOptions,isDropdownOpen,handleChange:value=>{searchValue.set(value),isDropdownOpen.set(filteredOptions().length>0)},handleOptionSelect:option=>{searchValue.set(option),isDropdownOpen.set(!1)},handleOpenChange:isOpen=>{isDropdownOpen.set(isOpen)},handleSearch:value=>{console.log("Searched content:",value)}},template:'\n        <rte-searchbar\n          id="searchbar-keyboard-search"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          [showResetButton]="true"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n          (search)="handleSearch($event)"\n        />\n      '}},play:(_ref2=(0,asyncToGenerator.A)(function*({canvasElement}){const canvas=(0,dist.ux)(canvasElement),input=canvas.getByRole("textbox");yield dist.Q4.click(input),(0,dist.E3)(input).toHaveFocus(),yield dist.Q4.type(input,"app"),yield(0,dist.fm)(()=>{const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-dropdown-id]");(0,dist.E3)(dropdown).toBeInTheDocument()}),yield dist.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-dropdown-id]"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");yield(0,dist.fm)(()=>{(0,dist.E3)(menuItems?.[0]).toHaveFocus()}),yield dist.Q4.keyboard(keyboard_test_constants.G7),yield(0,dist.fm)(()=>{(0,dist.E3)(input.value).toBe("Apple")});const searchButton=canvas.getByRole("button",{name:"Search"});yield dist.Q4.click(searchButton)}),function play(_x2){return _ref2.apply(this,arguments)})};var _ref2;const __namedExportsOrder=["Default","WithDropdown","WithFilteredOptions","KeyboardNavigationWithFilteredOptions","KeyboardNavigationAndSearch"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "searchbar-default",\n    appearance: "primary",\n    showResetButton: true,\n    assistiveText: "",\n    value: "",\n    disabled: false\n  }\n}',...Default.parameters?.docs?.source}}},WithDropdown.parameters={...WithDropdown.parameters,docs:{...WithDropdown.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "searchbar-with-dropdown",\n    appearance: "primary",\n    showResetButton: true,\n    assistiveText: "Select a filter option before typing",\n    value: "",\n    disabled: false,\n    options: ["option1", "option2", "option3"]\n  },\n  render: args => ({\n    props: {\n      ...args,\n      onOptionSelect: (option: string) => {\n        console.log("Selected option:", option);\n      }\n    },\n    template: `\n      <rte-searchbar\n        [id]="id"\n        [appearance]="appearance"\n        [showResetButton]="showResetButton"\n        [assistiveText]="assistiveText"\n        [value]="value"\n        [disabled]="disabled"\n        [name]="name"\n        [options]="options"\n        (optionSelect)="onOptionSelect($event)"\n      />\n    `\n  })\n}',...WithDropdown.parameters?.docs?.source}}},WithFilteredOptions.parameters={...WithFilteredOptions.parameters,docs:{...WithFilteredOptions.parameters?.docs,source:{originalSource:'{\n  args: {\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2", "Banana", "Banana2", "Cherry", "Date", "Elderberry", "Fig", "Grape", "Honeydew", "Kiwi", "Lemon"];\n    const searchValue = signal("");\n    const isDropdownOpen = signal(false);\n    const filteredOptions = computed(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\n    });\n    return {\n      props: {\n        ...args,\n        searchValue,\n        filteredOptions,\n        isDropdownOpen,\n        handleChange: (value: string) => {\n          searchValue.set(value);\n          isDropdownOpen.set(filteredOptions().length > 0);\n        },\n        handleOptionSelect: (option: string) => {\n          console.log("Selected option:", option);\n          searchValue.set(option);\n          isDropdownOpen.set(false);\n        },\n        handleOpenChange: (isOpen: boolean) => {\n          isDropdownOpen.set(isOpen);\n        }\n      },\n      template: `\n        <rte-searchbar\n          id="searchbar-filtered"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n        />\n      `\n    };\n  }\n}',...WithFilteredOptions.parameters?.docs?.source}}},KeyboardNavigationWithFilteredOptions.parameters={...KeyboardNavigationWithFilteredOptions.parameters,docs:{...KeyboardNavigationWithFilteredOptions.parameters?.docs,source:{originalSource:'{\n  args: {\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2"];\n    const searchValue = signal("");\n    const isDropdownOpen = signal(false);\n    const filteredOptions = computed(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\n    });\n    return {\n      props: {\n        ...args,\n        searchValue,\n        filteredOptions,\n        isDropdownOpen,\n        handleChange: (value: string) => {\n          searchValue.set(value);\n          isDropdownOpen.set(filteredOptions().length > 0);\n        },\n        handleOptionSelect: (option: string) => {\n          console.log("Selected option:", option);\n          searchValue.set(option);\n          isDropdownOpen.set(false);\n        },\n        handleOpenChange: (isOpen: boolean) => {\n          isDropdownOpen.set(filteredOptions().length >= 3 && isOpen);\n        }\n      },\n      template: `\n        filteredOptions: {{filteredOptions()}}\n        <rte-searchbar\n          id="searchbar-keyboard-navigation"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          [showResetButton]="true"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n        />\n      `\n    };\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const input = canvas.getByRole("textbox") as HTMLInputElement;\n    await userEvent.click(input);\n    expect(input).toHaveFocus();\n    await userEvent.type(input, "app");\n    await waitFor(() => {\n      const overlay = document.getElementById("overlay-root");\n      const dropdown = overlay?.querySelector("[data-dropdown-id]");\n      expect(dropdown).toBeInTheDocument();\n    });\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("[data-dropdown-id]");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    await waitFor(() => {\n      expect(menuItems?.[0]).toHaveFocus();\n    });\n    await userEvent.keyboard(TESTING_DOWN_KEY);\n    expect(menuItems?.[1]).toHaveFocus();\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    await waitFor(() => {\n      expect(input.value).toBe("Apple2");\n    });\n  }\n}',...KeyboardNavigationWithFilteredOptions.parameters?.docs?.source}}},KeyboardNavigationAndSearch.parameters={...KeyboardNavigationAndSearch.parameters,docs:{...KeyboardNavigationAndSearch.parameters?.docs,source:{originalSource:'{\n  args: {\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2"];\n    const searchValue = signal("");\n    const isDropdownOpen = signal(false);\n    const filteredOptions = computed(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase()));\n    });\n    return {\n      props: {\n        ...args,\n        searchValue,\n        filteredOptions,\n        isDropdownOpen,\n        handleChange: (value: string) => {\n          searchValue.set(value);\n          isDropdownOpen.set(filteredOptions().length > 0);\n        },\n        handleOptionSelect: (option: string) => {\n          searchValue.set(option);\n          isDropdownOpen.set(false);\n        },\n        handleOpenChange: (isOpen: boolean) => {\n          isDropdownOpen.set(isOpen);\n        },\n        handleSearch: (value: string | undefined) => {\n          console.log("Searched content:", value);\n        }\n      },\n      template: `\n        <rte-searchbar\n          id="searchbar-keyboard-search"\n          [appearance]="appearance"\n          [value]="searchValue()"\n          [compactSpacing]="compactSpacing"\n          [options]="filteredOptions()"\n          [isOpen]="isDropdownOpen()"\n          [assistiveText]="\'Type at least 3 characters to filter options\'"\n          [showResetButton]="true"\n          (valueChange)="handleChange($event)"\n          (openChange)="handleOpenChange($event)"\n          (optionSelect)="handleOptionSelect($event)"\n          (search)="handleSearch($event)"\n        />\n      `\n    };\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const input = canvas.getByRole("textbox") as HTMLInputElement;\n    await userEvent.click(input);\n    expect(input).toHaveFocus();\n    await userEvent.type(input, "app");\n    await waitFor(() => {\n      const overlay = document.getElementById("overlay-root");\n      const dropdown = overlay?.querySelector("[data-dropdown-id]");\n      expect(dropdown).toBeInTheDocument();\n    });\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("[data-dropdown-id]");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    await waitFor(() => {\n      expect(menuItems?.[0]).toHaveFocus();\n    });\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    await waitFor(() => {\n      expect(input.value).toBe("Apple");\n    });\n    const searchButton = canvas.getByRole("button", {\n      name: "Search"\n    });\n    await userEvent.click(searchButton);\n  }\n}',...KeyboardNavigationAndSearch.parameters?.docs?.source}}}}}]);