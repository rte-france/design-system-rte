(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[27471],{"./projects/ds-rte-lib/src/lib/components/breadcrumbs/breadcrumbs.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardNavigation:()=>KeyboardNavigation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>breadcrumbs_component_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var breadcrumbs_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/breadcrumbs/breadcrumbs.component.scss?ngResource"),breadcrumbs_componentngResource_default=__webpack_require__.n(breadcrumbs_componentngResource),common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs");function shouldTruncateBreadcrumbs(items,limit=3){return items.length>limit}var icon_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon/icon.component.ts"),link_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/link/link.component.ts");let BreadcrumbsComponent=class BreadcrumbsComponent{constructor(){this.items=(0,core.input)([]),this.truncatedItems=(0,core.computed)(()=>shouldTruncateBreadcrumbs(this.items())?function getBreadcrumbsTruncatedItems(items,limit=3,rest=2){if(shouldTruncateBreadcrumbs(items,limit))return{root:items[0],truncated:items.slice(1,items.length-rest),remaining:items.slice(items.length-rest)};throw new Error(`Breadcrumbs: 'items' should have at least ${limit} items.`)}(this.items()):null),this.truncatedItemsText=(0,core.computed)(()=>this.truncatedItems()?.truncated.map(item=>item.label).join(", "))}static{this.propDecorators={items:[{type:core.Input,args:[{isSignal:!0,alias:"items",required:!1,transform:void 0}]}]}}};BreadcrumbsComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-breadcrumbs",imports:[common.CommonModule,link_component.g,icon_component.R],standalone:!0,template:'<nav class="breadcrumbs-container" role="navigation" aria-label="Fil d\'Ariane">\n  @if (truncatedItems()?.truncated?.length) {\n    <div class="breadcrumbs-truncated">\n      <div class="breadcrumb-item">\n        <rte-link\n        [href]="truncatedItems()!.root.link"\n        [label]="truncatedItems()!.root.label"\n        [subtle]="true"\n      />\n      </div>\n      <span aria-hidden="true" class="separator">/</span>\n      <span title="More items: {{ truncatedItemsText() }}" class="breadcrumb-item">\n        <rte-icon name="more-horiz" tabIndex="0" role="menu" aria-label="More items" data-testid="show-more" [size]="12"/>\n      </span>\n      <span aria-hidden="true" class="separator">/</span>\n      @for (item of truncatedItems()!.remaining; track item.link; let i = $index) {\n        <div class="breadcrumb-item">\n          @if (i === truncatedItems()!.remaining.length - 1) {\n            <a role="link" aria-current="page" tabindex="0" [attr.aria-label]="item.label">\n              {{ item.label }}\n            </a>\n          } @else {\n            <rte-link [href]="item.link" [label]="item.label" [subtle]="true"/>\n          }\n        </div>\n        @if (i < truncatedItems()!.remaining.length - 1) {\n          <span aria-hidden="true" class="separator">/</span>\n        }\n      }\n    </div>\n  } @else {\n      @for (item of items(); track item.link; let i = $index) {\n        <div class="breadcrumb-item">\n          @if (i === items().length - 1) {\n            <a role="link" aria-current="page" tabindex="0" [attr.aria-label]="item.label">\n              {{ item.label }}\n            </a>\n          } @else {\n            <rte-link [href]="item.link" [label]="item.label" [subtle]="true"/>\n          }\n        </div>\n        @if (i < items().length - 1) {\n          <span aria-hidden="true" class="separator">/</span>\n        }\n      }\n  }\n</nav>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[breadcrumbs_componentngResource_default()]})],BreadcrumbsComponent);const breadcrumbs_component_stories={title:"Breadcrumbs",component:BreadcrumbsComponent,tags:["autodocs"],argTypes:{items:{control:"object"}}},Default={args:{items:[{label:"Home",link:"/"},{label:"Products",link:"/products"},{label:"Electronics",link:"/products/electronics"},{label:"Smartphones",link:"/products/electronics/smartphones"}]}},KeyboardNavigation={args:{...Default.args},render:args=>({props:{...args},template:'<rte-breadcrumbs [items]="items" data-testid="breadcrumbs"/>'}),play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement,args}){const breadcrumbs=(0,dist.ux)(canvasElement).getByTestId("breadcrumbs").querySelectorAll("div"),breadCrumbsHead=breadcrumbs[breadcrumbs.length-1].querySelector("a");args.items.forEach((0,asyncToGenerator.A)(function*(){yield dist.Q4.tab()})),yield(0,dist.fm)(()=>(0,dist.E3)(breadCrumbsHead).toHaveFocus()),yield dist.Q4.tab({shift:!0}),(0,dist.E3)(breadcrumbs[breadcrumbs.length-2].querySelector("a")).toHaveFocus()}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const __namedExportsOrder=["Default","KeyboardNavigation"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    items: mockItems\n  }\n}",...Default.parameters?.docs?.source}}},KeyboardNavigation.parameters={...KeyboardNavigation.parameters,docs:{...KeyboardNavigation.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    template: `<rte-breadcrumbs [items]="items" data-testid="breadcrumbs"/>`\n  }),\n  play: async ({\n    canvasElement,\n    args\n  }) => {\n    const canvas = within(canvasElement);\n    const breadcrumbs = canvas.getByTestId("breadcrumbs").querySelectorAll("div");\n    const breadCrumbsHead = breadcrumbs[breadcrumbs.length - 1].querySelector("a");\n    args.items.forEach(async () => {\n      await userEvent.tab();\n    });\n    await waitFor(() => expect(breadCrumbsHead).toHaveFocus());\n    await userEvent.tab({\n      shift: true\n    });\n    expect(breadcrumbs[breadcrumbs.length - 2].querySelector("a")).toHaveFocus();\n  }\n}',...KeyboardNavigation.parameters?.docs?.source}}}},"./projects/ds-rte-lib/src/lib/components/breadcrumbs/breadcrumbs.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:wght,FILL,GRAD@400,0,0&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,"@import url(https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap);"]),___CSS_LOADER_EXPORT___.push([module.id,'.breadcrumbs-container {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n}\n.breadcrumbs-container .breadcrumb-item {\n  display: inline-flex;\n  align-items: center;\n  opacity: 0;\n  animation: fadeIn 150ms forwards;\n  font-family: "Arial";\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n  letter-spacing: 0px;\n}\n.breadcrumbs-container .breadcrumb-item rte-link ::ng-deep a, .breadcrumbs-container .breadcrumb-item rte-link ::ng-deep a.subtle {\n  color: var(--content-tertiary);\n}\n.breadcrumbs-container .breadcrumb-item:last-child {\n  cursor: default;\n  color: var(--content-primary);\n}\n.breadcrumbs-container .breadcrumb-item :focus-visible {\n  outline: 1px solid var(--border-brand-focused);\n  outline-offset: 4px;\n  border-radius: 4px;\n}\n\n.separator {\n  color: var(--content-tertiary);\n  padding: 0 8px;\n  -webkit-user-select: none;\n          user-select: none;\n  opacity: 0;\n  animation: fadeIn 150ms forwards;\n}\n\n@keyframes fadeIn {\n  to {\n    opacity: 1;\n  }\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);