import{j as p}from"./jsx-runtime-Cf8x2fCZ.js";import{r as s}from"./index-G8LIXM5I.js";import{r as L}from"./index-DoK7PxrN.js";import{c as j}from"./index-DSdvzt-y.js";const x=4,b=9,q=(n,e,o,t=0)=>{const i=n.parentElement;if(!i)return o;const l=n.getBoundingClientRect(),a=parseInt(getComputedStyle(e).getPropertyValue("max-width")),u=parseInt(getComputedStyle(e).getPropertyValue("max-height")),r=i.getBoundingClientRect(),d={top:l.top-r.top>u+t,right:r.right-l.right>a+t,bottom:r.bottom-l.bottom>=u+t,left:l.left-r.left>a+t};return d.top?"top":d.bottom?"bottom":d.left?"left":d.right?"right":o},V=(n,e,o,t=0)=>{let i=0,l=0;return n==="bottom"?(i=e.getBoundingClientRect().bottom+t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2):n==="left"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().left-o.getBoundingClientRect().width-t):n==="right"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().right+t):(n==="top"||!n)&&(i=e.getBoundingClientRect().top-o.getBoundingClientRect().height-t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2),{top:i,left:l}},k=(n,e=300)=>{const[o,t]=s.useState(n),[i,l]=s.useState(!1);return s.useEffect(()=>{if(n&&!o)t(!0),requestAnimationFrame(()=>{l(!0)});else if(!n&&o){l(!1);const a=setTimeout(()=>{t(!1)},e);return()=>clearTimeout(a)}},[n,o,e]),{shouldRender:o,isAnimating:i}},_=({children:n})=>{const[e,o]=s.useState(null);return s.useEffect(()=>{let t=document.getElementById("overlay-root");return t||(t=document.createElement("div"),t.setAttribute("id","overlay-root"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="1000",document.body.appendChild(t)),o(t),()=>{t&&t.parentNode&&t.children.length===0&&document.body.removeChild(t)}},[]),e?p.jsx(p.Fragment,{children:L.createPortal(n,e)}):null};_.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const F="_tooltip_1n5g5_3",M="_tooltipLabel_1n5g5_25",h={"tooltip-trigger":"_tooltip-trigger_1n5g5_3",tooltip:F,tooltipLabel:M},G=s.forwardRef(({children:n,position:e="top",alignment:o="center",label:t,arrow:i=!0,className:l="",...a},u)=>{var v;const r=s.useRef(null),d=s.useRef(null),[g,T]=s.useState(null),[P,A]=s.useState(e),[R,I]=s.useState({top:0,left:0}),[m,C]=s.useState(!1),{shouldRender:N,isAnimating:O}=k(m,150),S=s.useCallback(c=>{d.current=c,T(c),typeof u=="function"?u(c):u&&(u.current=c)},[u]),f=s.useCallback(()=>{if(m&&r.current&&g){const c=e==="auto"?q(r.current,g,"top",i?b:x):e,w=V(c,r.current,g,i?b:x);A(c),I(w)}},[m,e,i,g]);s.useEffect(()=>(f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}),[f]);const y=()=>{C(!0)},B=()=>{C(!1)};return p.jsxs("div",{ref:r,className:h["tooltip-trigger"],onMouseEnter:y,onMouseLeave:B,onFocus:y,onBlur:B,tabIndex:0,style:{display:(v=a.style)==null?void 0:v.display},children:[n,N&&p.jsx(_,{children:p.jsx("div",{ref:S,className:j(h.tooltip,l),"data-position":P,"data-open":O||void 0,"data-alignment":o,"data-arrow":i,style:{top:`${R.top}px`,left:`${R.left}px`},...a,children:t&&p.jsx("span",{role:"tooltip",className:h.tooltipLabel,children:t})})})]})});G.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},position:{defaultValue:{value:'"top"',computed:!1},required:!1},alignment:{defaultValue:{value:'"center"',computed:!1},required:!1},arrow:{defaultValue:{value:"true",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["CoreTooltipProps","Omit"]};export{G as T};
