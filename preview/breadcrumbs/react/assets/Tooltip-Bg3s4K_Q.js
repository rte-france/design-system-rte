import{j as p}from"./jsx-runtime-Cf8x2fCZ.js";import{r as s}from"./index-G8LIXM5I.js";import{r as w}from"./index-DoK7PxrN.js";import{c as L}from"./index-DSdvzt-y.js";const v=4,x=9,j=(n,e,o,t=0)=>{const i=n.parentElement;if(!i)return o;const l=n.getBoundingClientRect(),c=parseInt(getComputedStyle(e).getPropertyValue("max-width")),u=parseInt(getComputedStyle(e).getPropertyValue("max-height")),r=i.getBoundingClientRect(),d={top:l.top-r.top>u+t,right:r.right-l.right>c+t,bottom:r.bottom-l.bottom>=u+t,left:l.left-r.left>c+t};return d.top?"top":d.bottom?"bottom":d.left?"left":d.right?"right":o},q=(n,e,o,t=0)=>{let i=0,l=0;return n==="bottom"?(i=e.getBoundingClientRect().bottom+t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2):n==="left"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().left-o.getBoundingClientRect().width-t):n==="right"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().right+t):(n==="top"||!n)&&(i=e.getBoundingClientRect().top-o.getBoundingClientRect().height-t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2),{top:i,left:l}},V=(n,e=300)=>{const[o,t]=s.useState(n),[i,l]=s.useState(!1);return s.useEffect(()=>{if(n&&!o)t(!0),requestAnimationFrame(()=>{l(!0)});else if(!n&&o){l(!1);const c=setTimeout(()=>{t(!1)},e);return()=>clearTimeout(c)}},[n,o,e]),{shouldRender:o,isAnimating:i}},b=({children:n})=>{const[e,o]=s.useState(null);return s.useEffect(()=>{let t=document.getElementById("overlay-root");return t||(t=document.createElement("div"),t.setAttribute("id","overlay-root"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="1000",document.body.appendChild(t)),o(t),()=>{t&&t.parentNode&&t.children.length===0&&document.body.removeChild(t)}},[]),e?p.jsx(p.Fragment,{children:w.createPortal(n,e)}):null};b.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const k="_tooltip_1n5g5_3",F="_tooltipLabel_1n5g5_25",h={"tooltip-trigger":"_tooltip-trigger_1n5g5_3",tooltip:k,tooltipLabel:F},M=s.forwardRef(({children:n,position:e="top",alignment:o="center",label:t,arrow:i=!0,className:l="",...c},u)=>{const r=s.useRef(null),d=s.useRef(null),[g,_]=s.useState(null),[T,P]=s.useState(e),[R,A]=s.useState({top:0,left:0}),[m,C]=s.useState(!1),{shouldRender:I,isAnimating:N}=V(m,150),O=s.useCallback(a=>{d.current=a,_(a),typeof u=="function"?u(a):u&&(u.current=a)},[u]),f=s.useCallback(()=>{if(m&&r.current&&g){const a=e==="auto"?j(r.current,g,"top",i?x:v):e,S=q(a,r.current,g,i?x:v);P(a),A(S)}},[m,e,i,g]);s.useEffect(()=>(f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}),[f]);const y=()=>{C(!0)},B=()=>{C(!1)};return p.jsxs("div",{ref:r,className:h["tooltip-trigger"],onMouseEnter:y,onMouseLeave:B,onFocus:y,onBlur:B,tabIndex:0,children:[n,I&&p.jsx(b,{children:p.jsx("div",{ref:O,className:L(h.tooltip,l),"data-position":T,"data-open":N||void 0,"data-alignment":o,"data-arrow":i,style:{top:`${R.top}px`,left:`${R.left}px`},...c,children:t&&p.jsx("span",{role:"tooltip",className:h.tooltipLabel,children:t})})})]})});M.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},position:{defaultValue:{value:'"top"',computed:!1},required:!1},alignment:{defaultValue:{value:'"center"',computed:!1},required:!1},arrow:{defaultValue:{value:"true",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["CoreTooltipProps","Omit"]};export{M as T};
