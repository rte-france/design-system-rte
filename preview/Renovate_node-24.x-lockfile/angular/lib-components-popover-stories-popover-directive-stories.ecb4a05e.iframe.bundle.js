(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[16905],{"../core/components/utils/auto-placement.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Iu:()=>getCoordinates,Qc:()=>getAutoPlacementDropdown,Vc:()=>getAutoAlignment,tj:()=>getAutoPlacement});var getAutoPlacement=function getAutoPlacement(hostElement,castedElement,defaultPosition){var sides,offset=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,hasParent=arguments.length>4&&void 0!==arguments[4]&&arguments[4],triggerRect=hostElement.getBoundingClientRect();if(hasParent){var triggerParent=hostElement.parentElement;if(!triggerParent)return defaultPosition;var maxWidth=parseInt(getComputedStyle(castedElement).getPropertyValue("max-width")),maxHeight=parseInt(getComputedStyle(castedElement).getPropertyValue("max-height")),parentRect=triggerParent.getBoundingClientRect();sides={top:triggerRect.top-parentRect.top>maxHeight+offset,right:parentRect.right-triggerRect.right>maxWidth+offset,bottom:parentRect.bottom-triggerRect.bottom>=maxHeight+offset,left:triggerRect.left-parentRect.left>maxWidth+offset}}else{var elementRect=castedElement.getBoundingClientRect();sides={top:elementRect.height+offset<triggerRect.top,right:elementRect.width+offset<window.innerWidth-triggerRect.right,bottom:elementRect.height+offset<window.innerHeight-triggerRect.bottom,left:elementRect.width+offset<triggerRect.left}}return sides.top?"top":sides.bottom?"bottom":sides.left?"left":sides.right?"right":defaultPosition},getAutoPlacementDropdown=function getAutoPlacementDropdown(hostElement,castedElement,defaultPosition){var offset=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,hasDropdownParent=arguments.length>4&&void 0!==arguments[4]&&arguments[4],triggerRect=hostElement.getBoundingClientRect(),elementRect=castedElement.getBoundingClientRect(),sides={top:elementRect.height+offset<triggerRect.top,right:elementRect.width+offset<window.innerWidth-triggerRect.right,bottom:elementRect.height+offset<window.innerHeight-triggerRect.bottom,left:elementRect.width+offset<triggerRect.left};return hasDropdownParent?getAutoPlacementDropdownWithParent(sides,defaultPosition):getAutoPlacementDropdownWithoutParent(sides,defaultPosition)},getAutoPlacementDropdownWithParent=function getAutoPlacementDropdownWithParent(sides,defaultPosition){return sides.right?"right":sides.left?"left":sides.bottom?"bottom":sides.top?"top":defaultPosition},getAutoPlacementDropdownWithoutParent=function getAutoPlacementDropdownWithoutParent(sides,defaultPosition){return sides.bottom?"bottom":sides.right?"right":sides.left?"left":sides.top?"top":defaultPosition},getAutoAlignment=function getAutoAlignment(hostElement,castedElement,position){if(!hostElement.parentElement)return"center";var triggerRect=hostElement.getBoundingClientRect(),castedRect=castedElement.getBoundingClientRect(),alignments_end="top"===position||"bottom"===position?triggerRect.right>=castedRect.width:window.innerHeight-triggerRect.bottom>=castedRect.height;return("top"===position||"bottom"===position?window.innerWidth-triggerRect.left>=castedRect.width:window.innerHeight-triggerRect.top>=castedRect.height)?"start":alignments_end?"end":"center"},getCoordinates=function getCoordinates(position,triggerElement,castedElement){var offset=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,alignment=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",triggerElementRect=triggerElement.getBoundingClientRect(),castedElementRect=castedElement.getBoundingClientRect();return"bottom"===position?handleBottomPosition(triggerElementRect,castedElementRect,offset,alignment):"left"===position?handleLeftPosition(triggerElementRect,castedElementRect,offset,alignment):"right"===position?handleRightPosition(triggerElementRect,castedElementRect,offset,alignment):handleTopPosition(triggerElementRect,castedElementRect,offset,alignment)},handleBottomPosition=function handleBottomPosition(triggerElementRect,castedElementRect,offset,alignment){return{top:triggerElementRect.bottom+offset+window.scrollY,left:"start"===alignment?triggerElementRect.left+window.scrollX:"end"===alignment?triggerElementRect.right-castedElementRect.width+window.scrollX:triggerElementRect.left+triggerElementRect.width/2-castedElementRect.width/2+window.scrollX}},handleLeftPosition=function handleLeftPosition(triggerElementRect,castedElementRect,offset,alignment){var left=triggerElementRect.left-castedElementRect.width-offset+window.scrollX;return{top:"start"===alignment?triggerElementRect.top+window.scrollY:"end"===alignment?triggerElementRect.bottom-castedElementRect.height+window.scrollY:triggerElementRect.top+triggerElementRect.height/2-castedElementRect.height/2+window.scrollY,left}},handleRightPosition=function handleRightPosition(triggerElementRect,castedElementRect,offset,alignment){var left=triggerElementRect.right+offset+window.scrollX;return{top:"start"===alignment?triggerElementRect.top+window.scrollY:"end"===alignment?triggerElementRect.bottom-castedElementRect.height+window.scrollY:triggerElementRect.top+triggerElementRect.height/2-castedElementRect.height/2+window.scrollY,left}},handleTopPosition=function handleTopPosition(triggerElementRect,castedElementRect,offset,alignment){return{top:triggerElementRect.top-castedElementRect.height-offset+window.scrollY,left:"start"===alignment?triggerElementRect.left+window.scrollX:"end"===alignment?triggerElementRect.right-castedElementRect.width+window.scrollX:triggerElementRect.left+triggerElementRect.width/2-castedElementRect.width/2+window.scrollX}}},"../core/constants/dom/dom.constants.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>FOCUSABLE_ELEMENTS_QUERY});const FOCUSABLE_ELEMENTS_QUERY=["button","a[href]","input","select","textarea","details",'[tabindex]:not([tabindex="-1"])'].map(element=>element+":not([disabled]):not([aria-hidden])").join(",")},"../core/constants/keyboard/keyboard-test.constants.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$v:()=>TESTING_UP_KEY,G7:()=>TESTING_ENTER_KEY,Rl:()=>TESTING_ESCAPE_KEY,ZX:()=>TESTING_ARROW_LEFT_KEY,oz:()=>TESTING_DOWN_KEY,s1:()=>TESTING_ARROW_RIGHT_KEY,u5:()=>TESTING_SPACE_KEY});var _keyboard_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts");const TESTING_SPACE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.zP}}`,TESTING_ENTER_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.jD}}`,TESTING_ESCAPE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.aH}}`,TESTING_UP_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.M0}}`,TESTING_DOWN_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.tt}}`,TESTING_ARROW_RIGHT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.Zh}}`,TESTING_ARROW_LEFT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.ST}}`},"./.storybook/testing/testing.utils.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>focusElementBeforeComponent});var _home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_storybook_test__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs");const focusElementBeforeComponent=function(){var _ref=(0,_home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(canvasElement){const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.ux)(canvasElement);yield(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.fm)(()=>{(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.ux)(canvas.getByTestId("mode-switcher")).getByRole("button").focus()})});return function focusElementBeforeComponent(_x){return _ref.apply(this,arguments)}}()},"./projects/ds-rte-lib/src/lib/components/button/button.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  display: inline-flex;\n  flex-shrink: 0;\n  align-items: center;\n  cursor: pointer;\n  justify-content: center;\n  width: fit-content;\n}\n:host:focus-visible {\n  outline: 1px solid var(--border-brand-focused);\n  outline-offset: 4px;\n}\n:host.size-s {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-size: 14px;\n  letter-spacing: -0.5px;\n  font-weight: 600;\n  line-height: 20px;\n  height: 24px;\n  border-radius: 4px;\n  padding: 4px 8px;\n}\n:host.size-s .rte-button-label {\n  margin: 0 4px;\n}\n:host.size-m {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: -0.5px;\n  height: 32px;\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n:host.size-m .rte-button-label {\n  margin: 0 6px;\n}\n:host.size-l {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 28px;\n  letter-spacing: -0.5px;\n  height: 40px;\n  border-radius: 8px;\n  padding: 4px 16px;\n}\n:host.size-l .rte-button-label {\n  margin: 0 8px;\n}\n:host.primary {\n  border: var(--border-brand-default);\n  color: var(--content-primary-inverse);\n  background: var(--background-brand-default);\n}\n:host.primary:hover {\n  background: var(--background-brand-hover);\n  border: var(--background-brand-hover);\n}\n:host.primary:active {\n  background: var(--background-brand-pressed);\n}\n:host.primary:disabled {\n  background: var(--background-disabled);\n  border: solid 1px var(--border-disabled);\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.secondary {\n  background: var(--background-default);\n  border: solid 1px var(--border-brand-default);\n  color: var(--content-brand-default);\n}\n:host.secondary:hover {\n  background: var(--background-brand-inverse-hover);\n}\n:host.secondary:active {\n  background: var(--background-brand-inverse-pressed);\n}\n:host.secondary:disabled {\n  background: var(--background-disabled);\n  border: solid 1px var(--border-disabled);\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.text {\n  background: transparent;\n  border: none;\n  color: var(--content-brand-default);\n}\n:host.text:hover {\n  background: var(--background-brand-inverse-hover);\n}\n:host.text:active {\n  background: var(--background-brand-inverse-pressed);\n}\n:host.text:disabled {\n  background: var(--background-disabled);\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.transparent {\n  background: transparent;\n  border: none;\n  color: var(--content-brand-default);\n}\n:host.transparent:hover {\n  color: var(--content-brand-hover);\n}\n:host.transparent:active {\n  color: var(--content-brand-pressed);\n}\n:host.transparent:disabled {\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.danger {\n  background: var(--background-danger-default);\n  border: none;\n  color: var(--content-primary-inverse);\n}\n:host.danger:hover {\n  background: var(--background-danger-hover);\n}\n:host.danger:active {\n  background: var(--background-danger-pressed);\n}\n:host.danger:disabled {\n  background: var(--background-disabled);\n  border: var(--border-disabled);\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.neutral {\n  background: none;\n  border: none;\n  color: var(--content-primary);\n}\n:host.neutral:hover {\n  color: var(--content-secondary);\n}\n:host.neutral:active {\n  color: var(--content-tertiary);\n}\n:host.neutral:disabled {\n  background: var(--background-disabled);\n  box-shadow: none;\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.reverse {\n  background: none;\n  border: none;\n  color: var(--content-primary-inverse);\n}\n:host.reverse:hover {\n  color: var(--background-hover);\n}\n:host.reverse:active {\n  color: var(--content-primary-inverse);\n}\n:host.reverse:disabled {\n  background: var(--background-disabled);\n  box-shadow: none;\n  color: var(--content-disabled);\n  cursor: default;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/button/button.component.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ButtonComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var button_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/button/button.component.scss?ngResource"),button_componentngResource_default=__webpack_require__.n(button_componentngResource),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs");let ButtonComponent=class ButtonComponent{constructor(){this.rteButtonVariant=(0,core.input)("primary"),this.rteButtonSize=(0,core.input)("m"),this.rteBadgeCount=(0,core.input)(),this.rteBadgeContent=(0,core.input)(),this.shouldDisplayBadge=(0,core.computed)(()=>{const count=this.rteBadgeCount(),content=this.rteBadgeContent();return count&&count>0&&"number"===content||"icon"===content})}get classes(){return`rte-button ${this.rteButtonVariant()} size-${this.rteButtonSize()}`}static{this.propDecorators={rteButtonVariant:[{type:core.Input,args:[{isSignal:!0,alias:"rteButtonVariant",required:!1,transform:void 0}]}],rteButtonSize:[{type:core.Input,args:[{isSignal:!0,alias:"rteButtonSize",required:!1,transform:void 0}]}],rteBadgeCount:[{type:core.Input,args:[{isSignal:!0,alias:"rteBadgeCount",required:!1,transform:void 0}]}],rteBadgeContent:[{type:core.Input,args:[{isSignal:!0,alias:"rteBadgeContent",required:!1,transform:void 0}]}],classes:[{type:core.HostBinding,args:["class"]}]}}};ButtonComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"button[rteButton]",standalone:!0,template:'<span class="rte-button-label">\n  <ng-content />\n  \x3c!-- Le badge est géré par BadgeDirective attachée via hostDirectives --\x3e\n</span>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[button_componentngResource_default()]})],ButtonComponent)},"./projects/ds-rte-lib/src/lib/components/popover/popover.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'.rte-popoverTrigger {\n  position: relative;\n  width: max-content;\n}\n\n.rte-popover {\n  filter: drop-shadow(0px 2px 4px var(--elevation-shadow-key)) drop-shadow(0px 0px 2px var(--elevation-shadow-ambient));\n  background: linear-gradient(0deg, var(--elevation-surface-shadow-2) 0%, var(--elevation-surface-shadow-2) 100%);\n  position: absolute;\n  pointer-events: auto;\n  top: 0;\n  left: 0;\n  padding: 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 0px;\n  background-color: var(--background-default);\n  transition: opacity 150ms ease-out;\n  opacity: 0;\n  z-index: 1000;\n  min-width: 320px;\n  max-width: 600px;\n  width: fit-content;\n  height: fit-content;\n}\n.rte-popover .popoverInner {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 24px;\n  gap: 24px;\n  border-radius: 4px;\n}\n.rte-popover .popoverInner .popoverContentContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 16px;\n}\n.rte-popover .popoverInner .popoverContentContainer .popoverTitle {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: var(--content-primary);\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 32px;\n  letter-spacing: -0.5px;\n}\n.rte-popover .popoverInner .popoverContentContainer .popoverContent {\n  color: var(--content-secondary);\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Arial";\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: 0px;\n  width: 100%;\n  word-break: break-word;\n}\n.rte-popover .popoverInner .popoverButtonContainer {\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n  padding: 0px;\n  gap: 24px;\n  width: 100%;\n}\n.rte-popover::after {\n  content: "";\n  position: absolute;\n  border-width: 12px;\n  border-style: solid;\n}\n.rte-popover[data-position=top]::after {\n  top: 100%;\n  left: 50%;\n  margin-left: -12px;\n  border-color: var(--background-default) transparent transparent transparent;\n}\n.rte-popover[data-position=top][data-alignment=start]::after {\n  left: 20px;\n}\n.rte-popover[data-position=top][data-alignment=end]::after {\n  left: auto;\n  right: 20px;\n}\n.rte-popover[data-position=bottom]::after {\n  bottom: 100%;\n  left: 50%;\n  margin-left: -12px;\n  border-color: transparent transparent var(--background-default) transparent;\n}\n.rte-popover[data-position=bottom][data-alignment=start]::after {\n  left: 20px;\n}\n.rte-popover[data-position=bottom][data-alignment=end]::after {\n  left: auto;\n  right: 20px;\n}\n.rte-popover[data-position=left]::after {\n  top: 50%;\n  left: 100%;\n  margin-top: -12px;\n  border-color: transparent transparent transparent var(--background-default);\n}\n.rte-popover[data-position=left][data-alignment=start]::after {\n  top: 20px;\n}\n.rte-popover[data-position=left][data-alignment=end]::after {\n  top: auto;\n  bottom: 20px;\n}\n.rte-popover[data-position=right]::after {\n  top: 50%;\n  right: 100%;\n  margin-top: -12px;\n  border-color: transparent var(--background-default) transparent transparent;\n}\n.rte-popover[data-position=right][data-alignment=start]::after {\n  top: 20px;\n}\n.rte-popover[data-position=right][data-alignment=end]::after {\n  top: auto;\n  bottom: 20px;\n}\n.rte-popover[data-arrow=false] {\n  box-shadow: 0px 2px 4px 0px var(--elevation-shadow-key), 0px 0px 2px 0px var(--elevation-shadow-ambient);\n  background: linear-gradient(0deg, var(--elevation-surface-shadow-2) 0%, var(--elevation-surface-shadow-2) 100%);\n  filter: none;\n  background: var(--background-default);\n}\n.rte-popover[data-arrow=false]::after {\n  display: none;\n}\n\n.rte-popover[data-open=true] {\n  opacity: 1;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/popover/stories/popover.directive.stories.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardInteraction:()=>KeyboardInteraction,WithTwoButtons:()=>WithTwoButtons,WithoutArrow:()=>WithoutArrow,WithoutTitle:()=>WithoutTitle,__namedExportsOrder:()=>__namedExportsOrder,default:()=>popover_directive_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),keyboard_test_constants=__webpack_require__("../core/constants/keyboard/keyboard-test.constants.ts"),dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),testing_utils=__webpack_require__("./.storybook/testing/testing.utils.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),auto_placement=__webpack_require__("../core/components/utils/auto-placement.ts"),keyboard_constants=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts"),overlay_service=__webpack_require__("./projects/ds-rte-lib/src/lib/services/overlay.service.ts");var popover_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/popover/popover.component.scss?ngResource"),popover_componentngResource_default=__webpack_require__.n(popover_componentngResource),common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs"),focus_trap_service=__webpack_require__("./projects/ds-rte-lib/src/lib/services/focus-trap.service.ts"),button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/button/button.component.ts");let PopoverComponent=class PopoverComponent{constructor(){this.primaryButtonLabel=core.input.required(),this.position=core.input.required(),this.alignment=(0,core.input)(),this.content=(0,core.input)(),this.arrow=(0,core.input)(),this.title=(0,core.input)(),this.secondaryButtonLabel=(0,core.input)(),this.isOpen=(0,core.input)(!1),this.coordinates=(0,core.input)({top:0,left:0}),this.clickPrimaryButton=(0,core.output)(),this.clickSecondaryButton=(0,core.output)(),this.elementRef=(0,core.inject)(core.ElementRef),this.focusTrap=(0,core.inject)(focus_trap_service.h)}ngAfterViewInit(){const native=this.elementRef?.nativeElement;native&&this.focusTrap.activate(native)}ngOnDestroy(){this.focusTrap.deactivate()}handleClickPrimaryButton(){this.clickPrimaryButton.emit()}handleClickSecondaryButton(){this.clickSecondaryButton.emit()}static{this.ctorParameters=()=>[]}static{this.propDecorators={primaryButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"primaryButtonLabel",required:!0,transform:void 0}]}],position:[{type:core.Input,args:[{isSignal:!0,alias:"position",required:!0,transform:void 0}]}],alignment:[{type:core.Input,args:[{isSignal:!0,alias:"alignment",required:!1,transform:void 0}]}],content:[{type:core.Input,args:[{isSignal:!0,alias:"content",required:!1,transform:void 0}]}],arrow:[{type:core.Input,args:[{isSignal:!0,alias:"arrow",required:!1,transform:void 0}]}],title:[{type:core.Input,args:[{isSignal:!0,alias:"title",required:!1,transform:void 0}]}],secondaryButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"secondaryButtonLabel",required:!1,transform:void 0}]}],isOpen:[{type:core.Input,args:[{isSignal:!0,alias:"isOpen",required:!1,transform:void 0}]}],coordinates:[{type:core.Input,args:[{isSignal:!0,alias:"coordinates",required:!1,transform:void 0}]}],clickPrimaryButton:[{type:core.Output,args:["clickPrimaryButton"]}],clickSecondaryButton:[{type:core.Output,args:["clickSecondaryButton"]}]}}};PopoverComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-popover",imports:[common.CommonModule,button_component.Q],standalone:!0,template:'<div\n  #root\n  class="rte-popover"\n  role="dialog"\n  aria-modal="true"\n  [attr.data-arrow]="arrow()"\n  [attr.data-position]="position()"\n  [attr.data-alignment]="alignment()"\n  [attr.data-open]="isOpen()"\n  [style]="{ top: coordinates().top + \'px\', left: coordinates().left + \'px\' }"\n>\n  <div class="popoverInner">\n    <div class="popoverContentContainer">\n      <div *ngIf="title" class="popoverTitle">{{ title() }}</div>\n      <div class="popoverContent">{{ content() }}</div>\n    </div>\n    <div class="popoverButtonContainer">\n      <button\n        *ngIf="secondaryButtonLabel()"\n        rteButton\n        rteButtonVariant="secondary"\n        (click)="handleClickSecondaryButton()"\n      >\n        {{ secondaryButtonLabel() }}\n      </button>\n      <button rteButton rteButtonVariant="primary" (click)="handleClickPrimaryButton()">\n        {{ primaryButtonLabel() }}\n      </button>\n    </div>\n  </div>\n</div>\n',styles:[popover_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],PopoverComponent);let PopoverDirective=class PopoverDirective{onClick(){this.popoverRef||this.showPopover()}constructor(){this.rtePopoverContent=core.input.required(),this.rtePopoverTitle=(0,core.input)(),this.rtePopoverPosition=(0,core.input)("auto"),this.rtePopoverAlignment=(0,core.input)("center"),this.rtePopoverArrow=(0,core.input)(!0),this.rtePopoverPrimaryButtonLabel=(0,core.input)(),this.rtePopoverSecondaryButtonLabel=(0,core.input)(),this.clickPrimaryButton=(0,core.output)(),this.clickSecondaryButton=(0,core.output)(),this.rtePopoverCloseOnClickOutside=(0,core.input)(!0),this.rtePopoverCloseOnEscape=(0,core.input)(!0),this.popoverRef=null,this.elementRef=(0,core.inject)(core.ElementRef),this.viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.renderer=(0,core.inject)(core.Renderer2),this.onScroll=()=>this.positionPopover(),this.onMouseDown=e=>this.handleClickAway(e),this.onKeyDown=e=>this.handleKeydown(e),this.overlayService=(0,core.inject)(overlay_service.s),this.hostElement=this.elementRef.nativeElement,this.hostElement.setAttribute("tabindex","0")}ngAfterViewInit(){window.addEventListener("scroll",this.onScroll),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("keydown",this.onKeyDown)}ngOnDestroy(){window.removeEventListener("scroll",this.onScroll),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),this.destroyPopover()}showPopover(){this.popoverRef&&this.popoverRef.destroy(),this.popoverRef=this.overlayService.create(PopoverComponent,this.viewContainerRef),this.subPrimary?.unsubscribe(),this.subSecondary?.unsubscribe(),this.subPrimary=this.popoverRef.instance.clickPrimaryButton.subscribe(()=>this.handleClickPrimaryButton()),this.subSecondary=this.popoverRef.instance.clickSecondaryButton.subscribe(()=>this.handleClickSecondaryButton()),this.assignDirectiveToComponent(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.positionPopover()})})}handleClickAway(event){const elements=[this.hostElement,this.popoverRef?.location.nativeElement];if(elements.some(element=>!element))return;!elements.some(element=>element.contains(event.target))&&this.rtePopoverCloseOnClickOutside()&&this.hidePopover()}handleKeydown(event){event.key===keyboard_constants.aH&&this.rtePopoverCloseOnEscape()&&(event.preventDefault(),this.hidePopover())}assignDirectiveToComponent(){if(this.popoverRef){const popoverElement=this.popoverRef.location.nativeElement.children[0],position="auto"===this.rtePopoverPosition()?(0,auto_placement.tj)(this.hostElement,popoverElement,"top",this.rtePopoverArrow()?20:8):this.rtePopoverPosition();this.popoverRef.setInput("title",this.rtePopoverTitle()),this.popoverRef.setInput("content",this.rtePopoverContent()),this.popoverRef.setInput("position",position),this.popoverRef.setInput("alignment",this.rtePopoverAlignment()),this.popoverRef.setInput("arrow",this.rtePopoverArrow()),this.popoverRef.setInput("primaryButtonLabel",this.rtePopoverPrimaryButtonLabel()),this.popoverRef.setInput("secondaryButtonLabel",this.rtePopoverSecondaryButtonLabel())}}handleClickPrimaryButton(){this.popoverRef&&(this.clickPrimaryButton.emit(),this.hidePopover())}handleClickSecondaryButton(){this.clickSecondaryButton?.emit(),this.hidePopover()}positionPopover(){if(this.popoverRef){const popoverElement=this.popoverRef.location.nativeElement.children[0],autoAlignment=(0,auto_placement.Vc)(this.hostElement,popoverElement,this.popoverRef.instance.position());this.popoverRef.setInput("alignment",autoAlignment);const positions=(0,auto_placement.Iu)(this.popoverRef.instance.position(),this.hostElement,popoverElement,this.rtePopoverArrow()?20:8,autoAlignment);this.renderer.setStyle(this.hostElement,"position","relative"),this.renderer.setStyle(popoverElement,"position","absolute"),this.renderer.setStyle(popoverElement,"top",`${positions.top}px`),this.renderer.setStyle(popoverElement,"left",`${positions.left}px`),this.popoverRef.setInput("isOpen",!0)}}hidePopover(){this.popoverRef&&(this.popoverRef.setInput("isOpen",!1),setTimeout(()=>this.destroyPopover(),200))}destroyPopover(){this.popoverRef&&(this.subPrimary?.unsubscribe(),this.subSecondary?.unsubscribe(),this.subPrimary=void 0,this.subSecondary=void 0,this.popoverRef.destroy(),this.popoverRef=null,this.overlayService.destroy())}static{this.ctorParameters=()=>[]}static{this.propDecorators={rtePopoverContent:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverContent",required:!0,transform:void 0}]}],rtePopoverTitle:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverTitle",required:!1,transform:void 0}]}],rtePopoverPosition:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverPosition",required:!1,transform:void 0}]}],rtePopoverAlignment:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverAlignment",required:!1,transform:void 0}]}],rtePopoverArrow:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverArrow",required:!1,transform:void 0}]}],rtePopoverPrimaryButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverPrimaryButtonLabel",required:!1,transform:void 0}]}],rtePopoverSecondaryButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverSecondaryButtonLabel",required:!1,transform:void 0}]}],clickPrimaryButton:[{type:core.Output,args:["clickPrimaryButton"]}],clickSecondaryButton:[{type:core.Output,args:["clickSecondaryButton"]}],rtePopoverCloseOnClickOutside:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverCloseOnClickOutside",required:!1,transform:void 0}]}],rtePopoverCloseOnEscape:[{type:core.Input,args:[{isSignal:!0,alias:"rtePopoverCloseOnEscape",required:!1,transform:void 0}]}],onClick:[{type:core.HostListener,args:["click"]}]}}};PopoverDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[rtePopover]",standalone:!0}),(0,tslib_es6.Sn)("design:paramtypes",[])],PopoverDirective);const popover_directive_stories={title:"Composants/Popover",component:PopoverDirective,tags:["autodocs"],argTypes:{rtePopoverPosition:{control:"select",options:["auto","top","bottom","left","right"],description:"Position of the popover relative to trigger",defaultValue:"auto"},rtePopoverAlignment:{control:"select",options:["start","center","end"],description:"Alignment of the popover",defaultValue:"start"},rtePopoverArrow:{control:"boolean",description:"Whether to show the arrow",defaultValue:!0},rtePopoverTitle:{control:"text",description:"Title of the popover",defaultValue:"Popover Title"},rtePopoverContent:{control:"text",description:"Content of the popover",defaultValue:"Popover content"},rtePopoverPrimaryButtonLabel:{control:"text",description:"Label for the primary button",defaultValue:"Close"},rtePopoverSecondaryButtonLabel:{control:"text",description:"Label for the secondary button",defaultValue:"Cancel"},clickPrimaryButton:{action:"primary click",control:!1},clickSecondaryButton:{action:"secondary click",control:!1}}},mockHost=popoverDirectives=>`\n<button \n    ${popoverDirectives}\n>\n    Click me!\n</button>\n`,Default={args:{rtePopoverContent:"Le Popover est un composant de type superposition (overlay), qui apparaît au clic, au focus ou au survol d'un élément déclencheur (trigger). Il est utilisé pour afficher un contenu contextuel enrichi : aide, options, actions complémentaires…",rtePopoverPosition:"auto",rtePopoverAlignment:"center",rtePopoverArrow:!0,rtePopoverPrimaryButtonLabel:"Close",rtePopoverSecondaryButtonLabel:"Cancel",rtePopoverTitle:"Popover Title",clickSecondaryButton:()=>console.log("Secondary button clicked"),clickPrimaryButton:()=>console.log("Primary button clicked")},render:args=>({props:args,declarations:[PopoverDirective],template:mockHost('\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        ')})},WithTwoButtons={args:{rtePopoverContent:"Are you sure you want to proceed with this action? This cannot be undone.",rtePopoverPosition:"auto",rtePopoverAlignment:"center",rtePopoverArrow:!0,rtePopoverPrimaryButtonLabel:"Confirm",rtePopoverSecondaryButtonLabel:"Cancel",rtePopoverTitle:"Confirm Action"},render:args=>({props:args,declarations:[PopoverDirective],template:mockHost('\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        ')})},WithoutTitle={args:{rtePopoverContent:"This popover has no title, just content and a close button.",rtePopoverPosition:"auto",rtePopoverAlignment:"center",rtePopoverArrow:!0,rtePopoverPrimaryButtonLabel:"Got it"},render:args=>({props:args,declarations:[PopoverDirective],template:mockHost('\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        ')})},WithoutArrow={args:{rtePopoverContent:"This popover is displayed without an arrow pointer.",rtePopoverPosition:"auto",rtePopoverAlignment:"center",rtePopoverArrow:!1,rtePopoverPrimaryButtonLabel:"Close",rtePopoverTitle:"No Arrow"},render:args=>({props:args,declarations:[PopoverDirective],template:mockHost('\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        ')})},KeyboardInteraction={args:{rtePopoverContent:"Le Popover est un composant de type superposition (overlay), qui apparaît au clic, au focus ou au survol d'un élément déclencheur (trigger). Il est utilisé pour afficher un contenu contextuel enrichi : aide, options, actions complémentaires…",rtePopoverPosition:"auto",rtePopoverAlignment:"center",rtePopoverArrow:!0,rtePopoverPrimaryButtonLabel:"Close",rtePopoverSecondaryButtonLabel:"Cancel",rtePopoverTitle:"Popover Title"},render:args=>({props:args,declarations:[PopoverDirective],template:mockHost('\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        ')}),play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement}){(0,testing_utils.r)(canvasElement),yield dist.Q4.tab(),yield dist.Q4.keyboard(keyboard_test_constants.G7);const popover=(0,dist.ux)(document.body).getByRole("dialog");yield(0,dist.fm)(()=>(0,dist.E3)(popover).toBeVisible()),yield dist.Q4.tab();const closeButton=(0,dist.ux)(popover).getByRole("button",{name:/close/i});(0,dist.E3)(closeButton).toHaveFocus(),yield dist.Q4.tab();const cancelButton=(0,dist.ux)(popover).getByRole("button",{name:/cancel/i});(0,dist.E3)(cancelButton).toHaveFocus(),yield dist.Q4.tab(),(0,dist.E3)(closeButton).toHaveFocus(),yield dist.Q4.keyboard(keyboard_test_constants.Rl),yield(0,dist.fm)(()=>(0,dist.E3)(popover).not.toBeVisible())}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const __namedExportsOrder=["Default","WithTwoButtons","WithoutTitle","WithoutArrow","KeyboardInteraction"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    rtePopoverContent: "Le Popover est un composant de type superposition (overlay), qui apparaît au clic, au focus ou au survol d\'un élément déclencheur (trigger). Il est utilisé pour afficher un contenu contextuel enrichi : aide, options, actions complémentaires…",\n    rtePopoverPosition: "auto",\n    rtePopoverAlignment: "center",\n    rtePopoverArrow: true,\n    rtePopoverPrimaryButtonLabel: "Close",\n    rtePopoverSecondaryButtonLabel: "Cancel",\n    rtePopoverTitle: "Popover Title",\n    clickSecondaryButton: () => console.log("Secondary button clicked"),\n    clickPrimaryButton: () => console.log("Primary button clicked")\n  },\n  render: args => ({\n    props: args,\n    declarations: [PopoverDirective],\n    template: mockHost(`\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        `)\n  })\n}',...Default.parameters?.docs?.source}}},WithTwoButtons.parameters={...WithTwoButtons.parameters,docs:{...WithTwoButtons.parameters?.docs,source:{originalSource:'{\n  args: {\n    rtePopoverContent: "Are you sure you want to proceed with this action? This cannot be undone.",\n    rtePopoverPosition: "auto",\n    rtePopoverAlignment: "center",\n    rtePopoverArrow: true,\n    rtePopoverPrimaryButtonLabel: "Confirm",\n    rtePopoverSecondaryButtonLabel: "Cancel",\n    rtePopoverTitle: "Confirm Action"\n  },\n  render: args => ({\n    props: args,\n    declarations: [PopoverDirective],\n    template: mockHost(`\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        `)\n  })\n}',...WithTwoButtons.parameters?.docs?.source}}},WithoutTitle.parameters={...WithoutTitle.parameters,docs:{...WithoutTitle.parameters?.docs,source:{originalSource:'{\n  args: {\n    rtePopoverContent: "This popover has no title, just content and a close button.",\n    rtePopoverPosition: "auto",\n    rtePopoverAlignment: "center",\n    rtePopoverArrow: true,\n    rtePopoverPrimaryButtonLabel: "Got it"\n  },\n  render: args => ({\n    props: args,\n    declarations: [PopoverDirective],\n    template: mockHost(`\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        `)\n  })\n}',...WithoutTitle.parameters?.docs?.source}}},WithoutArrow.parameters={...WithoutArrow.parameters,docs:{...WithoutArrow.parameters?.docs,source:{originalSource:'{\n  args: {\n    rtePopoverContent: "This popover is displayed without an arrow pointer.",\n    rtePopoverPosition: "auto",\n    rtePopoverAlignment: "center",\n    rtePopoverArrow: false,\n    rtePopoverPrimaryButtonLabel: "Close",\n    rtePopoverTitle: "No Arrow"\n  },\n  render: args => ({\n    props: args,\n    declarations: [PopoverDirective],\n    template: mockHost(`\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        `)\n  })\n}',...WithoutArrow.parameters?.docs?.source}}},KeyboardInteraction.parameters={...KeyboardInteraction.parameters,docs:{...KeyboardInteraction.parameters?.docs,source:{originalSource:'{\n  args: {\n    rtePopoverContent: "Le Popover est un composant de type superposition (overlay), qui apparaît au clic, au focus ou au survol d\'un élément déclencheur (trigger). Il est utilisé pour afficher un contenu contextuel enrichi : aide, options, actions complémentaires…",\n    rtePopoverPosition: "auto",\n    rtePopoverAlignment: "center",\n    rtePopoverArrow: true,\n    rtePopoverPrimaryButtonLabel: "Close",\n    rtePopoverSecondaryButtonLabel: "Cancel",\n    rtePopoverTitle: "Popover Title"\n  },\n  render: args => ({\n    props: args,\n    declarations: [PopoverDirective],\n    template: mockHost(`\n            rtePopover\n            [rtePopoverContent]="rtePopoverContent"\n            [rtePopoverPosition]="rtePopoverPosition"\n            [rtePopoverAlignment]="rtePopoverAlignment"\n            [rtePopoverArrow]="rtePopoverArrow"\n            [rtePopoverPrimaryButtonLabel]="rtePopoverPrimaryButtonLabel"\n            [rtePopoverSecondaryButtonLabel]="rtePopoverSecondaryButtonLabel"\n            [rtePopoverTitle]="rtePopoverTitle"\n            (clickSecondaryButton)="clickSecondaryButton()"\n            (clickPrimaryButton)="clickPrimaryButton()"\n        `)\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    focusElementBeforeComponent(canvasElement);\n    await userEvent.tab();\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    const popover = within(document.body).getByRole("dialog");\n    await waitFor(() => expect(popover).toBeVisible());\n    await userEvent.tab();\n    const closeButton = within(popover).getByRole("button", {\n      name: /close/i\n    });\n    expect(closeButton).toHaveFocus();\n    await userEvent.tab();\n    const cancelButton = within(popover).getByRole("button", {\n      name: /cancel/i\n    });\n    expect(cancelButton).toHaveFocus();\n    await userEvent.tab();\n    expect(closeButton).toHaveFocus();\n    await userEvent.keyboard(TESTING_ESCAPE_KEY);\n    await waitFor(() => expect(popover).not.toBeVisible());\n  }\n}',...KeyboardInteraction.parameters?.docs?.source}}}},"./projects/ds-rte-lib/src/lib/services/focus-trap.service.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>FocusTrapService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),_design_system_rte_core_constants_dom_dom_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/constants/dom/dom.constants.ts");let FocusTrapService=class FocusTrapService{constructor(){this.activeTrapElement=null,this.previouslyFocusedElement=null,this.focusable=[],this.rendererFactory=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2),this.renderer=this.rendererFactory.createRenderer(null,null)}activate(element){this.previouslyFocusedElement=document.activeElement,this.activeTrapElement=element,this.focusable=this.getFocusableElements(element),this.focusFirstElement(),this.keyUnlisten=this.renderer.listen(element,"keydown",event=>{"Tab"===event.key&&this.handleTab(event,this.focusable)})}deactivate(){this.keyUnlisten&&this.keyUnlisten(),this.keyUnlisten=void 0,this.previouslyFocusedElement&&this.previouslyFocusedElement.focus(),this.activeTrapElement=null}focusFirstElement(){if(!this.activeTrapElement)return;const focusable=this.activeTrapElement.querySelectorAll(_design_system_rte_core_constants_dom_dom_constants__WEBPACK_IMPORTED_MODULE_2__.y);focusable.length>0&&focusable[0].focus()}handleTab(event,focusable){if(!this.activeTrapElement||0===focusable.length)return;const first=focusable[0],last=focusable[focusable.length-1],current=document.activeElement;event.shiftKey&&current===first?(last.focus(),event.preventDefault()):event.shiftKey||current!==last||(first.focus(),event.preventDefault())}getFocusableElements(container){return Array.from(container.querySelectorAll(_design_system_rte_core_constants_dom_dom_constants__WEBPACK_IMPORTED_MODULE_2__.y))}static{this.ctorParameters=()=>[]}};FocusTrapService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:paramtypes",[])],FocusTrapService)},"./projects/ds-rte-lib/src/lib/services/overlay.service.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>OverlayService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs");let OverlayService=class OverlayService{constructor(){this.activeOverlays=new Set,this.isNavigationFrozen=!1}getOverlayRoot(freezeNavigation){return this.overlayRoot||(this.overlayRoot=document.getElementById("overlay-root"),this.overlayRoot||(this.overlayRoot=document.createElement("div"),this.overlayRoot.id="overlay-root",this.overlayRoot.tabIndex=-1,freezeNavigation&&(this.isNavigationFrozen=!0,this.overlayRoot.style.position="fixed",this.overlayRoot.style.width="100%",this.overlayRoot.style.height="100%",this.overlayRoot.style.top="0",this.overlayRoot.style.left="0",this.overlayRoot.style.zIndex="999",document.body.style.overflow="hidden"),document.body.appendChild(this.overlayRoot))),this.overlayRoot}createWithoutAppend(component,viewContainer){return viewContainer.createComponent(component)}create(component,viewContainer,freezeNavigation=!1){const root=this.getOverlayRoot(freezeNavigation),componentRef=viewContainer.createComponent(component);root.appendChild(componentRef.location.nativeElement),this.activeOverlays.add(componentRef);const originalDestroy=componentRef.destroy.bind(componentRef);return componentRef.destroy=()=>{this.activeOverlays.delete(componentRef),originalDestroy()},componentRef}addToOverlay(componentRef){this.getOverlayRoot(this.isNavigationFrozen).appendChild(componentRef.location.nativeElement),this.activeOverlays.add(componentRef)}destroy(){0===this.activeOverlays.size&&(this.isNavigationFrozen&&(document.body.style.overflow="unset"),this.overlayRoot?.remove(),this.overlayRoot=void 0)}static{this.ctorParameters=()=>[]}};OverlayService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:paramtypes",[])],OverlayService)}}]);