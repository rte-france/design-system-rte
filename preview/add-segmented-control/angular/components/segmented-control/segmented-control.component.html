<div class="rte-segmented-control" role="radiogroup" [attr.aria-label]="ariaLabel()">
  <span class="rte-segment-slider" [ngStyle]="{ left: sliderLeft + 'px', width: sliderWidth + 'px' }"></span>
  <ng-container *ngFor="let option of options(); let idx = index">
    <div class="rte-segment-container" [attr.data-position]="getSegmentPosition(idx)">
      <div
      #segment
      role="radio"
      class="rte-segment"
      tabindex="0"
      [attr.data-id]="option.id"
      [attr.data-segment-type]="option.icon ?  'icon' : 'label'"
      [class.selected]="selectedSegment() === option.id"
      [attr.aria-checked]="selectedSegment() === option.id"
      (click)="selectSegment(option.id)"
      (keydown)="handleKeyDown($event)"
      (keyup)="handleKeyUp($event)"
      >
      <rte-icon
          *ngIf="selectedSegment() === option.id"
          name="check-small"
          class="rte-selected-icon"
          [size]="24"
          ></rte-icon>
      <div class="rte-segment-content">
        <ng-container *ngIf="option.icon; else label">
          <rte-icon [name]="option.icon" [size]="24"></rte-icon>
        </ng-container>
        <ng-template #label>
          <span class="rte-segment-label">{{ option.label }}</span>
        </ng-template>
      </div>
    </div>
  </div>
  </ng-container>
</div>