(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[60803],{"./projects/ds-rte-lib/src/lib/components/toast/stories/toast.component.stories.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardInteraction:()=>KeyboardInteraction,Multiple:()=>Multiple,__namedExportsOrder:()=>__namedExportsOrder,default:()=>toast_component_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),test_dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/button/button.component.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var toast_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/toast/toast.component.scss?ngResource"),toast_componentngResource_default=__webpack_require__.n(toast_componentngResource),common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),icon_constants=__webpack_require__("../core/components/icon/icon.constants.ts"),ToastDurationMap={short:3e3,medium:5e3,long:8e3},icon_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon/icon.component.ts"),icon_button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon-button/icon-button.component.ts");let ToastComponent=class ToastComponent{constructor(){this.id=(0,core.input)(""),this.message=(0,core.input)(""),this.type=(0,core.input)("info"),this.duration=(0,core.input)("medium"),this.isOpen=(0,core.input)(!1),this.placement=(0,core.input)("bottom-right"),this.closable=(0,core.input)(!0),this.autoDismiss=(0,core.input)(!0),this.showActionButton=(0,core.input)(!0),this.iconName=(0,core.input)(""),this.showLeftIcon=(0,core.input)(!0),this.actionButtonLabel=(0,core.input)(""),this.onActionButtonClick=(0,core.input)(()=>{}),this.close=(0,core.output)(),this.displayCustomIcon=(0,core.computed)(()=>this.showLeftIcon()&&!!this.iconName()),this.displayLeftIcon=(0,core.computed)(()=>this.showLeftIcon()&&icon_constants.A[this.type()]),this.displayActionButton=(0,core.computed)(()=>this.showActionButton()&&this.actionButtonLabel()&&!!this.onActionButtonClick()),this.shouldAutoDismiss=(0,core.computed)(()=>this.isOpen()&&this.autoDismiss()&&(!this.actionButtonLabel()||!this.showActionButton())),this.timer=(0,core.signal)(null),this.position=(0,core.computed)(()=>this.placement()?.split("-")[0]),this.alignment=(0,core.computed)(()=>this.placement()?.split("-")[1]),this.visible=(0,core.signal)(!1),this.defaultIconName=(0,core.computed)(()=>icon_constants.A[this.type()]),this.iconSize=icon_constants.l.xl}ngOnChanges(changes){changes.isOpen&&this.shouldAutoDismiss()&&this.startTimer()}onClickActionButton(){const action=this.onActionButtonClick();action&&action()}handleMouseEnter(){this.timer()&&this.stopTimer()}handleMouseLeave(){this.shouldAutoDismiss()&&this.startTimer()}clickCloseButton(){this.close.emit()}startTimer(){this.stopTimer();const duration=this.duration();if(duration){const timerId=setTimeout(()=>{this.close.emit(),this.stopTimer()},ToastDurationMap[duration]);this.timer.set(timerId)}}stopTimer(){const timer=this.timer();timer&&(clearTimeout(timer),this.timer.set(null))}static{this.propDecorators={id:[{type:core.Input,args:[{isSignal:!0,alias:"id",required:!1,transform:void 0}]}],message:[{type:core.Input,args:[{isSignal:!0,alias:"message",required:!1,transform:void 0}]}],type:[{type:core.Input,args:[{isSignal:!0,alias:"type",required:!1,transform:void 0}]}],duration:[{type:core.Input,args:[{isSignal:!0,alias:"duration",required:!1,transform:void 0}]}],isOpen:[{type:core.Input,args:[{isSignal:!0,alias:"isOpen",required:!1,transform:void 0}]}],placement:[{type:core.Input,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}],closable:[{type:core.Input,args:[{isSignal:!0,alias:"closable",required:!1,transform:void 0}]}],autoDismiss:[{type:core.Input,args:[{isSignal:!0,alias:"autoDismiss",required:!1,transform:void 0}]}],showActionButton:[{type:core.Input,args:[{isSignal:!0,alias:"showActionButton",required:!1,transform:void 0}]}],iconName:[{type:core.Input,args:[{isSignal:!0,alias:"iconName",required:!1,transform:void 0}]}],showLeftIcon:[{type:core.Input,args:[{isSignal:!0,alias:"showLeftIcon",required:!1,transform:void 0}]}],actionButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"actionButtonLabel",required:!1,transform:void 0}]}],onActionButtonClick:[{type:core.Input,args:[{isSignal:!0,alias:"onActionButtonClick",required:!1,transform:void 0}]}],close:[{type:core.Output,args:["close"]}]}}};ToastComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-toast",imports:[common.CommonModule,icon_component.R,icon_button_component.x,button_component.Q],standalone:!0,template:'<div\n  class="rte-toast {{ type() }} {{ position() }} {{ alignment() }}"\n  role="status"\n  [ngClass]="{ open: isOpen() }"\n  (mouseenter)="handleMouseEnter()"\n  (mouseleave)="handleMouseLeave()"\n>\n  <div class="rte-toast-content">\n    @if (displayLeftIcon()) {\n      <rte-icon class="rte-toast-icon" aria-hidden="true" [name]="defaultIconName()" [size]="iconSize" />\n    } @else {\n      @if (displayCustomIcon()) {\n        <rte-icon class="rte-toast-icon" aria-hidden="true" [name]="iconName()!" [size]="iconSize" />\n      }\n    }\n    <span class="rte-toast-message">{{ message() }}</span>\n  </div>\n  @if (displayActionButton()) {\n    <button rteButton rteButtonVariant="text" class="rte-toast-action-button" (click)="onClickActionButton()">\n      {{ actionButtonLabel() }}\n    </button>\n  }\n  @if (closable()) {\n    <rte-icon-button\n      name="close"\n      [attr.data-testid]="\'toast-close-button\'"\n      [variant]="type() === \'neutral\' ? \'reverse\' : \'neutral\'"\n      (clickEvent)="clickCloseButton()"\n    />\n  }\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[toast_componentngResource_default()]})],ToastComponent);var getToastPriority=function getToastPriority(toast){var hasButtonAction=toast.hasActionButton,type=toast.type;if(hasButtonAction)switch(type){case"error":return 1;case"warning":return 3;case"success":return 5;case"info":return 6;default:return 7}else switch(type){case"error":return 2;case"warning":return 4;case"success":return 8;case"info":return 9;default:return 10}};const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let getRandomValues;const rnds8=new Uint8Array(16);const byteToHex=[];for(let i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();const rnds=(options=options||{}).random??options.rng?.()??function rng(){if(!getRandomValues){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}();if(rnds.length<16)throw new Error("Random bytes length must be >= 16");if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){if((offset=offset||0)<0||offset+16>buf.length)throw new RangeError(`UUID byte range ${offset}:${offset+15} is out of buffer bounds`);for(let i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)};var overlay_service=__webpack_require__("./projects/ds-rte-lib/src/lib/services/overlay.service.ts");let ToastService=class ToastService{constructor(){this.viewContainerRef=(0,core.inject)(core.ViewContainerRef),this.currentOpenedToastRef=null,this.toastQueue=(0,core.signal)([]),this.overlayService=(0,core.inject)(overlay_service.s),(0,core.effect)(()=>{const toastToOpen=this.toastQueue()[0];toastToOpen?this.currentOpenedToastRef?.instance.id()!==toastToOpen.instance.id()&&(this.currentOpenedToastRef&&this.currentOpenedToastRef.setInput("isOpen",!1),this.overlayService.addToOverlay(toastToOpen),requestAnimationFrame(()=>{requestAnimationFrame(()=>{toastToOpen.setInput("isOpen",!0),this.currentOpenedToastRef=toastToOpen})})):this.currentOpenedToastRef=null})}getAllToasts(){return this.toastQueue()}getCurrentOpenedToast(){return this.currentOpenedToastRef}isInQueue(toastId){return this.toastQueue().some(toast=>toast.instance.id()===toastId)}addToQueue(config){const toast=this.build(config);return toast.instance.close.subscribe(()=>{this.removeFromQueue(toast.instance.id())}),this.toastQueue.update(list=>[...list,toast].sort((a,b)=>getToastPriority({hasActionButton:a.instance.showActionButton(),type:a.instance.type()})-getToastPriority({hasActionButton:b.instance.showActionButton(),type:b.instance.type()}))),toast.instance.id()}removeFromQueue(toastId){if(0===this.toastQueue().length)return;if(1===this.toastQueue().length&&this.toastQueue()[0].instance.id()===toastId){const onlyToast=this.toastQueue()[0];return this.toastQueue.set([]),onlyToast.setInput("isOpen",!1),void this.waitExitAnimation(onlyToast,()=>{onlyToast.destroy()})}const toastToHide=this.toastQueue().find(toast=>toast.instance.id()===toastId);toastToHide&&(this.toastQueue.update(list=>list.filter(c=>c.instance.id()!==toastId)),toastToHide.setInput("isOpen",!1),this.waitExitAnimation(toastToHide,()=>{toastToHide.destroy()}))}build(config){const toast=this.overlayService.createWithoutAppend(ToastComponent,this.viewContainerRef);return this.assignInputsValues(toast,config),toast}assignInputsValues(toast,config){const{message,type="info",closable=!0,autoDismiss=!1,duration="medium",placement="bottom-right",showActionButton=!0,showLeftIcon=!0,iconName,actionButtonLabel,onActionButtonClick}=config;toast.setInput("message",message),toast.setInput("id",esm_browser_v4()),toast.setInput("type",type),toast.setInput("closable",closable),toast.setInput("autoDismiss",autoDismiss),toast.setInput("duration",duration),toast.setInput("placement",placement),toast.setInput("iconName",iconName),toast.setInput("showLeftIcon",showLeftIcon),toast.setInput("showActionButton",showActionButton),toast.setInput("actionButtonLabel",actionButtonLabel),toast.setInput("onActionButtonClick",onActionButtonClick)}waitExitAnimation(ref,done){setTimeout(done,300)}static{this.ctorParameters=()=>[]}};ToastService=(0,tslib_es6.Cg)([(0,core.Injectable)({providedIn:"root"}),(0,tslib_es6.Sn)("design:paramtypes",[])],ToastService);let ToastDefaultComponent=class ToastDefaultComponent{constructor(){this.toastService=(0,core.inject)(ToastService),this.myInfoNotificationId=(0,core.signal)(null),this.id=(0,core.input)(""),this.message=(0,core.input)(""),this.type=(0,core.input)("info"),this.duration=(0,core.input)("medium"),this.isOpen=(0,core.input)(!1),this.placement=(0,core.input)("bottom-right"),this.closable=(0,core.input)(!0),this.autoDismiss=(0,core.input)(!0),this.showActionButton=(0,core.input)(!0),this.actionButtonLabel=(0,core.input)(""),this.onActionButtonClick=(0,core.input)(()=>{})}toggleToast(){if(this.toastService.isInQueue(this.myInfoNotificationId()))return void this.toastService.removeFromQueue(this.myInfoNotificationId());const config={message:this.message(),type:this.type(),placement:this.placement(),autoDismiss:this.autoDismiss(),duration:this.duration(),closable:this.closable(),showActionButton:this.showActionButton(),actionButtonLabel:this.actionButtonLabel(),onActionButtonClick:()=>{console.log("Mise à jour en cours...")}},infoNotificationId=this.toastService.addToQueue(config);this.myInfoNotificationId.set(infoNotificationId)}static{this.propDecorators={id:[{type:core.Input,args:[{isSignal:!0,alias:"id",required:!1,transform:void 0}]}],message:[{type:core.Input,args:[{isSignal:!0,alias:"message",required:!1,transform:void 0}]}],type:[{type:core.Input,args:[{isSignal:!0,alias:"type",required:!1,transform:void 0}]}],duration:[{type:core.Input,args:[{isSignal:!0,alias:"duration",required:!1,transform:void 0}]}],isOpen:[{type:core.Input,args:[{isSignal:!0,alias:"isOpen",required:!1,transform:void 0}]}],placement:[{type:core.Input,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}],closable:[{type:core.Input,args:[{isSignal:!0,alias:"closable",required:!1,transform:void 0}]}],autoDismiss:[{type:core.Input,args:[{isSignal:!0,alias:"autoDismiss",required:!1,transform:void 0}]}],showActionButton:[{type:core.Input,args:[{isSignal:!0,alias:"showActionButton",required:!1,transform:void 0}]}],actionButtonLabel:[{type:core.Input,args:[{isSignal:!0,alias:"actionButtonLabel",required:!1,transform:void 0}]}],onActionButtonClick:[{type:core.Input,args:[{isSignal:!0,alias:"onActionButtonClick",required:!1,transform:void 0}]}]}}};ToastDefaultComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"toast-default",imports:[button_component.Q],standalone:!0,template:' <button rteButton (click)="toggleToast()">Toggle toast</button> '})],ToastDefaultComponent);let ToastDemoWrapperComponent=class ToastDemoWrapperComponent{constructor(){this.toastService=(0,core.inject)(ToastService),this.myInfoNotificationId=(0,core.signal)(null),this.myErrorNotificationId=(0,core.signal)(null),this.myWarningNotificationId=(0,core.signal)(null),this.mySuccessNotificationId=(0,core.signal)(null),this.myNeutralNotificationId=(0,core.signal)(null),this.currentOpenedToast=(0,core.signal)(null)}toggleToast(toastId){switch(toastId){case"error-toast":{if(console.log("error-toast clicked"),this.toastService.isInQueue(this.myErrorNotificationId()))return void this.toastService.removeFromQueue(this.myErrorNotificationId());const configError={message:"Erreur lors de la sauvegarde des modifications",type:"error",placement:"bottom-center",autoDismiss:!0,duration:"medium",closable:!0,showActionButton:!1},errorNotificationId=this.toastService.addToQueue(configError);this.myErrorNotificationId.set(errorNotificationId)}break;case"info-toast":{if(this.toastService.isInQueue(this.myInfoNotificationId()))return void this.toastService.removeFromQueue(this.myInfoNotificationId());const config={message:"Une mise à jour est disponible",type:"info",placement:"bottom-center",autoDismiss:!0,duration:"medium",closable:!0,showActionButton:!0,actionButtonLabel:"Mettre à jour",onActionButtonClick:()=>{console.log("Mise à jour en cours...")}},infoNotificationId=this.toastService.addToQueue(config);this.myInfoNotificationId.set(infoNotificationId)}break;case"warning-toast":{if(this.toastService.isInQueue(this.myWarningNotificationId()))return void this.toastService.removeFromQueue(this.myWarningNotificationId());const config={message:"Une mise à jour est disponible",type:"warning",placement:"bottom-center",autoDismiss:!0,duration:"medium",closable:!0,showActionButton:!1,actionButtonLabel:"Mettre à jour",onActionButtonClick:()=>{console.log("Mise à jour en cours...")}},warningNotificationId=this.toastService.addToQueue(config);this.myWarningNotificationId.set(warningNotificationId)}break;case"success-toast":{if(this.toastService.isInQueue(this.mySuccessNotificationId()))return void this.toastService.removeFromQueue(this.mySuccessNotificationId());const config={message:"Une mise à jour est disponible",type:"success",placement:"bottom-center",autoDismiss:!0,duration:"medium",closable:!0,showActionButton:!1,actionButtonLabel:"Mettre à jour",onActionButtonClick:()=>{console.log("Mise à jour en cours...")}},successNotificationId=this.toastService.addToQueue(config);this.mySuccessNotificationId.set(successNotificationId)}break;case"neutral-toast":{if(this.toastService.isInQueue(this.myNeutralNotificationId()))return void this.toastService.removeFromQueue(this.myNeutralNotificationId());const config={message:"Une mise à jour est disponible",type:"neutral",placement:"bottom-center",autoDismiss:!0,duration:"medium",closable:!0,showActionButton:!1,actionButtonLabel:"Mettre à jour",iconName:"settings",showLeftIcon:!0,onActionButtonClick:()=>{console.log("Mise à jour en cours...")}},neutralNotificationId=this.toastService.addToQueue(config);this.myNeutralNotificationId.set(neutralNotificationId)}}}};ToastDemoWrapperComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"toast-demo-wrapper",imports:[button_component.Q],standalone:!0,template:'\n    <button rteButton rteButtonVariant="danger" (click)="toggleToast(\'error-toast\')">Toggle Error Toast</button>\n    <button rteButton rteButtonVariant="secondary" (click)="toggleToast(\'warning-toast\')">Toggle Warning Toast</button>\n    <button rteButton (click)="toggleToast(\'success-toast\')">Toggle Success Toast</button>\n    <button rteButton (click)="toggleToast(\'info-toast\')">Toggle Info Toast</button>\n    <button rteButton (click)="toggleToast(\'neutral-toast\')">Toggle Neutral Toast</button>\n  '})],ToastDemoWrapperComponent);const toast_component_stories={title:"Composants/Toast",component:ToastComponent,tags:["autodocs"],argTypes:{message:{control:"text"},type:{control:"select",options:["info","success","warning","error","neutral"]},placement:{control:"select",options:["top-right","top-left","bottom-right","bottom-left","bottom-center"]},closable:{control:"boolean"},isOpen:{control:"boolean"},autoDismiss:{control:"boolean"},duration:{control:"select",options:["short","medium","long"]},actionButtonLabel:{control:"text"},showActionButton:{control:"boolean"},onActionButtonClick:{action:"action button clicked"}},decorators:[(0,dist.moduleMetadata)({imports:[ToastDemoWrapperComponent,button_component.Q,ToastDefaultComponent],providers:[ToastService]})]},Default={args:{message:"Une mise à jour est disponible",type:"info",autoDismiss:!1,closable:!0,isOpen:!1,placement:"bottom-right",actionButtonLabel:"Mettre à jour",showActionButton:!0},render:args=>({props:{...args,toggleToast:toastId=>{console.log(`${toastId} clicked`)}},template:'\n    <toast-default\n      [message]="message"\n      [type]="type"\n      [autoDismiss]="autoDismiss"\n      [closable]="closable"\n      [isOpen]="isOpen"\n      [placement]="placement"\n      [actionButtonLabel]="actionButtonLabel"\n      [showActionButton]="showActionButton"\n    />'})},Multiple={args:{message:"Une mise à jour est disponible",type:"info",autoDismiss:!1,closable:!0,isOpen:!1,placement:"bottom-right"},render:args=>({props:args,template:"\n    <toast-demo-wrapper/>"})},KeyboardInteraction={args:{message:"Une mise à jour est disponible",type:"info",autoDismiss:!1,closable:!0,isOpen:!1,placement:"bottom-right",actionButtonLabel:"Mettre à jour"},render:args=>({props:{...args,toggleToast:toastId=>{console.log(`${toastId} clicked`)}},template:'\n    <toast-default\n      [message]="message"\n      [type]="type"\n      [autoDismiss]="autoDismiss"\n      [closable]="closable"\n      [isOpen]="isOpen"\n      [placement]="placement"\n      [actionButtonLabel]="actionButtonLabel"\n      [showActionButton]="showActionButton"\n    />'}),play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement}){const canvas=(0,test_dist.ux)(canvasElement),toggleButton=yield canvas.getByRole("button",{name:"Toggle toast"});yield test_dist.Q4.click(toggleButton);const toast=(0,test_dist.ux)(document.body).getByRole("status"),actionButton=yield(0,test_dist.ux)(toast).getByRole("button",{name:"Mettre à jour"}),closeButton=yield(0,test_dist.ux)(toast).getByTestId("toast-close-button").getElementsByTagName("button")[0];yield test_dist.Q4.tab(),(0,test_dist.E3)(actionButton).toHaveFocus(),yield test_dist.Q4.tab(),(0,test_dist.E3)(closeButton).toHaveFocus(),yield test_dist.Q4.tab({shift:!0}),(0,test_dist.E3)(actionButton).toHaveFocus(),yield test_dist.Q4.click(closeButton),yield(0,test_dist.fm)(()=>(0,test_dist.E3)(toast).not.toBeInTheDocument())}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const __namedExportsOrder=["Default","Multiple","KeyboardInteraction"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    message: "Une mise à jour est disponible",\n    type: "info",\n    autoDismiss: false,\n    closable: true,\n    isOpen: false,\n    placement: "bottom-right",\n    actionButtonLabel: "Mettre à jour",\n    showActionButton: true\n  },\n  render: args => ({\n    props: {\n      ...args,\n      toggleToast: (toastId: string) => {\n        console.log(`${toastId} clicked`);\n      }\n    },\n    template: `\n    <toast-default\n      [message]="message"\n      [type]="type"\n      [autoDismiss]="autoDismiss"\n      [closable]="closable"\n      [isOpen]="isOpen"\n      [placement]="placement"\n      [actionButtonLabel]="actionButtonLabel"\n      [showActionButton]="showActionButton"\n    />`\n  })\n}',...Default.parameters?.docs?.source}}},Multiple.parameters={...Multiple.parameters,docs:{...Multiple.parameters?.docs,source:{originalSource:'{\n  args: {\n    message: "Une mise à jour est disponible",\n    type: "info",\n    autoDismiss: false,\n    closable: true,\n    isOpen: false,\n    placement: "bottom-right"\n  },\n  render: args => ({\n    props: args,\n    template: `\n    <toast-demo-wrapper/>`\n  })\n}',...Multiple.parameters?.docs?.source}}},KeyboardInteraction.parameters={...KeyboardInteraction.parameters,docs:{...KeyboardInteraction.parameters?.docs,source:{originalSource:'{\n  args: {\n    message: "Une mise à jour est disponible",\n    type: "info",\n    autoDismiss: false,\n    closable: true,\n    isOpen: false,\n    placement: "bottom-right",\n    actionButtonLabel: "Mettre à jour"\n  },\n  render: args => ({\n    props: {\n      ...args,\n      toggleToast: (toastId: string) => {\n        console.log(`${toastId} clicked`);\n      }\n    },\n    template: `\n    <toast-default\n      [message]="message"\n      [type]="type"\n      [autoDismiss]="autoDismiss"\n      [closable]="closable"\n      [isOpen]="isOpen"\n      [placement]="placement"\n      [actionButtonLabel]="actionButtonLabel"\n      [showActionButton]="showActionButton"\n    />`\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const toggleButton = await canvas.getByRole("button", {\n      name: "Toggle toast"\n    });\n    await userEvent.click(toggleButton);\n    const toast = within(document.body).getByRole("status");\n    const actionButton = await within(toast).getByRole("button", {\n      name: "Mettre à jour"\n    });\n    const closeButton = await within(toast).getByTestId("toast-close-button").getElementsByTagName("button")[0];\n    await userEvent.tab();\n    expect(actionButton).toHaveFocus();\n    await userEvent.tab();\n    expect(closeButton).toHaveFocus();\n    await userEvent.tab({\n      shift: true\n    });\n    expect(actionButton).toHaveFocus();\n    await userEvent.click(closeButton);\n    await waitFor(() => expect(toast).not.toBeInTheDocument());\n  }\n}',...KeyboardInteraction.parameters?.docs?.source}}}},"./projects/ds-rte-lib/src/lib/components/button/button.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  display: inline-flex;\n  flex-shrink: 0;\n  align-items: center;\n  cursor: pointer;\n  justify-content: center;\n  width: fit-content;\n}\n:host:focus-visible {\n  outline: 1px solid var(--border-brand-focused);\n  outline-offset: 4px;\n}\n:host.size-s {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-size: 14px;\n  letter-spacing: -0.5px;\n  font-weight: 600;\n  line-height: 20px;\n  height: 24px;\n  border-radius: 4px;\n  padding: 4px 8px;\n}\n:host.size-s .rte-button-label {\n  margin: 0 4px;\n}\n:host.size-m {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 24px;\n  letter-spacing: -0.5px;\n  height: 32px;\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n:host.size-m .rte-button-label {\n  margin: 0 6px;\n}\n:host.size-l {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Nunito";\n  font-weight: 600;\n  font-size: 20px;\n  line-height: 28px;\n  letter-spacing: -0.5px;\n  height: 40px;\n  border-radius: 8px;\n  padding: 4px 16px;\n}\n:host.size-l .rte-button-label {\n  margin: 0 8px;\n}\n:host.primary {\n  border: var(--border-brand-default);\n  color: var(--content-primary-inverse);\n  background: var(--background-brand-default);\n}\n:host.primary:hover {\n  background: var(--background-brand-hover);\n  border: var(--background-brand-hover);\n}\n:host.primary:active {\n  background: var(--background-brand-pressed);\n}\n:host.primary:disabled {\n  background: var(--background-disabled);\n  border: solid 1px var(--border-disabled);\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.secondary {\n  background: var(--background-default);\n  border: solid 1px var(--border-brand-default);\n  color: var(--content-brand-default);\n}\n:host.secondary:hover {\n  background: var(--background-brand-inverse-hover);\n}\n:host.secondary:active {\n  background: var(--background-brand-inverse-pressed);\n}\n:host.secondary:disabled {\n  background: var(--background-disabled);\n  border: solid 1px var(--border-disabled);\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.text {\n  background: transparent;\n  border: none;\n  color: var(--content-brand-default);\n}\n:host.text:hover {\n  background: var(--background-brand-inverse-hover);\n}\n:host.text:active {\n  background: var(--background-brand-inverse-pressed);\n}\n:host.text:disabled {\n  background: var(--background-disabled);\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.transparent {\n  background: transparent;\n  border: none;\n  color: var(--content-brand-default);\n}\n:host.transparent:hover {\n  color: var(--content-brand-hover);\n}\n:host.transparent:active {\n  color: var(--content-brand-pressed);\n}\n:host.transparent:disabled {\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.danger {\n  background: var(--background-danger-default);\n  border: none;\n  color: var(--content-primary-inverse);\n}\n:host.danger:hover {\n  background: var(--background-danger-hover);\n}\n:host.danger:active {\n  background: var(--background-danger-pressed);\n}\n:host.danger:disabled {\n  background: var(--background-disabled);\n  border: var(--border-disabled);\n  color: var(--content-disabled);\n  box-shadow: none;\n  cursor: default;\n}\n:host.neutral {\n  background: none;\n  border: none;\n  color: var(--content-primary);\n}\n:host.neutral:hover {\n  color: var(--content-secondary);\n}\n:host.neutral:active {\n  color: var(--content-tertiary);\n}\n:host.neutral:disabled {\n  background: var(--background-disabled);\n  box-shadow: none;\n  color: var(--content-disabled);\n  cursor: default;\n}\n:host.reverse {\n  background: none;\n  border: none;\n  color: var(--content-primary-inverse);\n}\n:host.reverse:hover {\n  color: var(--background-hover);\n}\n:host.reverse:active {\n  color: var(--content-primary-inverse);\n}\n:host.reverse:disabled {\n  background: var(--background-disabled);\n  box-shadow: none;\n  color: var(--content-disabled);\n  cursor: default;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/toast/toast.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'.rte-toast {\n  box-shadow: 0px 2px 4px 0px var(--elevation-shadow-key), 0px 0px 2px 0px var(--elevation-shadow-ambient);\n  background: linear-gradient(0deg, var(--elevation-surface-shadow-2) 0%, var(--elevation-surface-shadow-2) 100%);\n  display: flex;\n  width: 400px;\n  min-width: 240px;\n  max-width: 336px;\n  padding: 8px 4px 8px 16px;\n  align-items: center;\n  border-radius: 4px;\n  border-bottom: 4px solid var(--border-info);\n  color: var(--content-primary);\n  background-color: var(--background-default);\n  z-index: 10;\n  position: fixed;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n  opacity: 0;\n  transition: opacity 300ms ease, transform 200ms ease;\n}\n.rte-toast.top {\n  top: 12px;\n}\n.rte-toast.bottom {\n  bottom: 12px;\n}\n.rte-toast.bottom.center {\n  left: 50%;\n  transform: translate(-50%, 10px);\n}\n.rte-toast.bottom.center.open {\n  opacity: 1;\n  transform: translate(-50%, 0);\n}\n.rte-toast.left {\n  left: 12px;\n  transform: translate(-10px, 0);\n}\n.rte-toast.left.open {\n  opacity: 1;\n  transform: translate(0, 0);\n}\n.rte-toast.right {\n  right: 12px;\n  transform: translate(10px, 0);\n}\n.rte-toast.right.open {\n  opacity: 1;\n  transform: translate(0, 0);\n}\n.rte-toast .rte-toast-message {\n  font-feature-settings: "liga" off, "clig" off;\n  font-style: normal;\n  font-family: "Arial";\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 16px;\n  letter-spacing: 0px;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  width: 100%;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n}\n.rte-toast .rte-toast-icon {\n  flex: 1 0 auto;\n}\n.rte-toast .rte-toast-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-grow: 1;\n  overflow: hidden;\n  width: 100%;\n}\n.rte-toast.info {\n  border-bottom-color: var(--border-info);\n}\n.rte-toast.info .rte-toast-icon {\n  color: var(--content-info-default);\n}\n.rte-toast.error {\n  border-bottom-color: var(--border-danger);\n}\n.rte-toast.error .rte-toast-icon {\n  color: var(--content-danger-default);\n}\n.rte-toast.success {\n  border-bottom-color: var(--border-success);\n}\n.rte-toast.success .rte-toast-icon {\n  color: var(--content-success-default);\n}\n.rte-toast.warning {\n  border-bottom-color: var(--border-warning);\n}\n.rte-toast.warning .rte-toast-icon {\n  color: var(--content-warning-default);\n}\n.rte-toast.neutral {\n  background-color: var(--background-inverse);\n  color: var(--content-primary-inverse);\n  border-bottom-color: var(--border-primary);\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/button/button.component.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>ButtonComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var button_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/button/button.component.scss?ngResource"),button_componentngResource_default=__webpack_require__.n(button_componentngResource),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs");let ButtonComponent=class ButtonComponent{constructor(){this.rteButtonVariant=(0,core.input)("primary"),this.rteButtonSize=(0,core.input)("m"),this.rteBadgeCount=(0,core.input)(),this.rteBadgeContent=(0,core.input)(),this.shouldDisplayBadge=(0,core.computed)(()=>{const count=this.rteBadgeCount(),content=this.rteBadgeContent();return count&&count>0&&"number"===content||"icon"===content})}get classes(){return`rte-button ${this.rteButtonVariant()} size-${this.rteButtonSize()}`}static{this.propDecorators={rteButtonVariant:[{type:core.Input,args:[{isSignal:!0,alias:"rteButtonVariant",required:!1,transform:void 0}]}],rteButtonSize:[{type:core.Input,args:[{isSignal:!0,alias:"rteButtonSize",required:!1,transform:void 0}]}],rteBadgeCount:[{type:core.Input,args:[{isSignal:!0,alias:"rteBadgeCount",required:!1,transform:void 0}]}],rteBadgeContent:[{type:core.Input,args:[{isSignal:!0,alias:"rteBadgeContent",required:!1,transform:void 0}]}],classes:[{type:core.HostBinding,args:["class"]}]}}};ButtonComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"button[rteButton]",standalone:!0,template:'<span class="rte-button-label">\n  <ng-content />\n  \x3c!-- Le badge est géré par BadgeDirective attachée via hostDirectives --\x3e\n</span>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[button_componentngResource_default()]})],ButtonComponent)},"./projects/ds-rte-lib/src/lib/services/overlay.service.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>OverlayService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs");let OverlayService=class OverlayService{constructor(){this.activeOverlays=new Set,this.isNavigationFrozen=!1}getOverlayRoot(freezeNavigation){return this.overlayRoot||(this.overlayRoot=document.getElementById("overlay-root"),this.overlayRoot||(this.overlayRoot=document.createElement("div"),this.overlayRoot.id="overlay-root",this.overlayRoot.tabIndex=-1,freezeNavigation&&(this.isNavigationFrozen=!0,this.overlayRoot.style.position="fixed",this.overlayRoot.style.width="100%",this.overlayRoot.style.height="100%",this.overlayRoot.style.top="0",this.overlayRoot.style.left="0",this.overlayRoot.style.zIndex="999",document.body.style.overflow="hidden"),document.body.appendChild(this.overlayRoot))),this.overlayRoot}createWithoutAppend(component,viewContainer){return viewContainer.createComponent(component)}create(component,viewContainer,freezeNavigation=!1){const root=this.getOverlayRoot(freezeNavigation),componentRef=viewContainer.createComponent(component);root.appendChild(componentRef.location.nativeElement),this.activeOverlays.add(componentRef);const originalDestroy=componentRef.destroy.bind(componentRef);return componentRef.destroy=()=>{this.activeOverlays.delete(componentRef),originalDestroy()},componentRef}addToOverlay(componentRef){this.getOverlayRoot(this.isNavigationFrozen).appendChild(componentRef.location.nativeElement),this.activeOverlays.add(componentRef)}destroy(){0===this.activeOverlays.size&&(this.isNavigationFrozen&&(document.body.style.overflow="unset"),this.overlayRoot?.remove(),this.overlayRoot=void 0)}static{this.ctorParameters=()=>[]}};OverlayService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)({providedIn:"root"}),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:paramtypes",[])],OverlayService)}}]);