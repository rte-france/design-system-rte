"use strict";(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[58129],{"../core/constants/keyboard/keyboard-test.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$v:()=>TESTING_UP_KEY,G7:()=>TESTING_ENTER_KEY,Rl:()=>TESTING_ESCAPE_KEY,ZX:()=>TESTING_ARROW_LEFT_KEY,oz:()=>TESTING_DOWN_KEY,s1:()=>TESTING_ARROW_RIGHT_KEY,u5:()=>TESTING_SPACE_KEY});var _keyboard_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts");const TESTING_SPACE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.zP}}`,TESTING_ENTER_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.jD}}`,TESTING_ESCAPE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.aH}}`,TESTING_UP_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.M0}}`,TESTING_DOWN_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.tt}}`,TESTING_ARROW_RIGHT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.Zh}}`,TESTING_ARROW_LEFT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.ST}}`},"./projects/ds-rte-lib/src/lib/components/dropdown/stories/dropdown.directive.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardNavigation:()=>KeyboardNavigation,KeyboardNavigationWithLink:()=>KeyboardNavigationWithLink,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_design_system_rte_core_constants_keyboard_keyboard_test_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../core/constants/keyboard/keyboard-test.constants.ts"),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_storybook_test__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),_dropdown_directive__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/ds-rte-lib/src/lib/components/dropdown/dropdown.directive.ts"),_dropdown_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./projects/ds-rte-lib/src/lib/components/dropdown/dropdown.module.ts");const MOCKUP_ITEMS=[{label:"Messages",leftIcon:"mail",hasSeparator:!0},{label:"Actions",leftIcon:"settings"},{label:"Help",leftIcon:"help"},{label:"More information",leftIcon:"info",hasSeparator:!0},{label:"First option",hasIndent:!0},{label:"Second option",hasIndent:!0},{label:"Third option",hasSeparator:!0,hasIndent:!0},{label:"Username",leftIcon:"user-circle",disabled:!0}],wipWarning='\n<div>\n  <span style="font-family: sans-serif; margin-bottom: 16px; border: 1px solid #F4922B; padding: 8px; border-radius: 5px; background-color: #FAFFC1; margin: 0;">\n    Ce composant est en cours de développement et n\'est pas encore disponible\n  </span>\n</div>\n<br/>\n',__WEBPACK_DEFAULT_EXPORT__={title:"Composants/Dropdown (développement en cours)",id:"Dropdown",component:_dropdown_directive__WEBPACK_IMPORTED_MODULE_4__.x,tags:["autodocs"],argTypes:{rteDropdownPosition:{control:"select",options:["top","bottom","left","right"],defaultValue:"bottom"}},parameters:{layout:"centered"}},Default={decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_dropdown_module__WEBPACK_IMPORTED_MODULE_5__.k]})],args:{rteDropdownPosition:"bottom"},render:args=>({props:{...args,items:MOCKUP_ITEMS,onItemClick:event=>{console.log("Item clicked:",event)}},template:`\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Menu principal ⬇</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `})},KeyboardNavigation={decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_dropdown_module__WEBPACK_IMPORTED_MODULE_5__.k]})],args:{rteDropdownPosition:"bottom"},render:args=>({props:{...args,items:MOCKUP_ITEMS,onItemClick:event=>{console.log("Item clicked:",event)}},template:`\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Click me!</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `}),play:(_ref=(0,_home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*({canvasElement}){const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.ux)(canvasElement),triggerButton=yield canvas.getByRole("button",{name:/click me!/i});yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.click(triggerButton),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("rte-dropdown-menu"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(dropdown).toBeInTheDocument(),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[0]).toHaveFocus(),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.keyboard(_design_system_rte_core_constants_keyboard_keyboard_test_constants__WEBPACK_IMPORTED_MODULE_1__.oz),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[1]).toHaveFocus(),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.keyboard(_design_system_rte_core_constants_keyboard_keyboard_test_constants__WEBPACK_IMPORTED_MODULE_1__.$v),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[0]).toHaveFocus()}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const KeyboardNavigationWithLink={decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_dropdown_module__WEBPACK_IMPORTED_MODULE_5__.k]})],args:{rteDropdownPosition:"bottom"},render:args=>({props:{...args,items:[{label:"Messages",leftIcon:"mail",link:"/messages"},{label:"Username",leftIcon:"user-circle",link:"/username"}],onItemClick:event=>{console.log("Item clicked:",event)}},template:`\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Click me!</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `}),play:(_ref2=(0,_home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*({canvasElement}){const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.ux)(canvasElement),triggerButton=yield canvas.getByRole("button",{name:/click me!/i});yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.click(triggerButton),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("rte-dropdown-menu"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");yield(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.fm)(()=>{(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(dropdown).toBeInTheDocument(),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[0]).toHaveFocus()}),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.keyboard(_design_system_rte_core_constants_keyboard_keyboard_test_constants__WEBPACK_IMPORTED_MODULE_1__.oz),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[1]).toHaveFocus(),yield _storybook_test__WEBPACK_IMPORTED_MODULE_3__.Q4.keyboard(_design_system_rte_core_constants_keyboard_keyboard_test_constants__WEBPACK_IMPORTED_MODULE_1__.$v),(0,_storybook_test__WEBPACK_IMPORTED_MODULE_3__.E3)(menuItems?.[0]).toHaveFocus()}),function play(_x2){return _ref2.apply(this,arguments)})};var _ref2;const __namedExportsOrder=["Default","KeyboardNavigation","KeyboardNavigationWithLink"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  decorators: [moduleMetadata({\n    imports: [DropdownModule]\n  })],\n  args: {\n    rteDropdownPosition: "bottom"\n  },\n  render: args => ({\n    props: {\n      ...args,\n      items: MOCKUP_ITEMS,\n      onItemClick: (event: {\n        event: Event;\n        id: string;\n      }) => {\n        console.log("Item clicked:", event);\n      }\n    },\n    template: `\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Menu principal ⬇</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `\n  })\n}',...Default.parameters?.docs?.source}}},KeyboardNavigation.parameters={...KeyboardNavigation.parameters,docs:{...KeyboardNavigation.parameters?.docs,source:{originalSource:'{\n  decorators: [moduleMetadata({\n    imports: [DropdownModule]\n  })],\n  args: {\n    rteDropdownPosition: "bottom"\n  },\n  render: args => ({\n    props: {\n      ...args,\n      items: MOCKUP_ITEMS,\n      onItemClick: (event: {\n        event: Event;\n        id: string;\n      }) => {\n        console.log("Item clicked:", event);\n      }\n    },\n    template: `\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Click me!</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const triggerButton = await canvas.getByRole("button", {\n      name: /click me!/i\n    });\n    await userEvent.click(triggerButton);\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("rte-dropdown-menu");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    expect(dropdown).toBeInTheDocument();\n    expect(menuItems?.[0]).toHaveFocus();\n    await userEvent.keyboard(TESTING_DOWN_KEY);\n    expect(menuItems?.[1]).toHaveFocus();\n    await userEvent.keyboard(TESTING_UP_KEY);\n    expect(menuItems?.[0]).toHaveFocus();\n  }\n}',...KeyboardNavigation.parameters?.docs?.source}}},KeyboardNavigationWithLink.parameters={...KeyboardNavigationWithLink.parameters,docs:{...KeyboardNavigationWithLink.parameters?.docs,source:{originalSource:'{\n  decorators: [moduleMetadata({\n    imports: [DropdownModule]\n  })],\n  args: {\n    rteDropdownPosition: "bottom"\n  },\n  render: args => ({\n    props: {\n      ...args,\n      items: [{\n        label: "Messages",\n        leftIcon: "mail",\n        link: "/messages"\n      }, {\n        label: "Username",\n        leftIcon: "user-circle",\n        link: "/username"\n      }],\n      onItemClick: (event: {\n        event: Event;\n        id: string;\n      }) => {\n        console.log("Item clicked:", event);\n      }\n    },\n    template: `\n    ${wipWarning}\n    <div rteDropdown [rteDropdownPosition]="rteDropdownPosition" (menuEvent)="onItemClick($event)">\n      <button rteDropdownTrigger>Click me!</button>\n      <rte-dropdown-menu [items]="items"/>\n    </div>\n    `\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const triggerButton = await canvas.getByRole("button", {\n      name: /click me!/i\n    });\n    await userEvent.click(triggerButton);\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("rte-dropdown-menu");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    await waitFor(() => {\n      expect(dropdown).toBeInTheDocument();\n      expect(menuItems?.[0]).toHaveFocus();\n    });\n    await userEvent.keyboard(TESTING_DOWN_KEY);\n    expect(menuItems?.[1]).toHaveFocus();\n    await userEvent.keyboard(TESTING_UP_KEY);\n    expect(menuItems?.[0]).toHaveFocus();\n  }\n}',...KeyboardNavigationWithLink.parameters?.docs?.source}}}}}]);