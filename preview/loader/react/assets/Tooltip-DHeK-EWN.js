import{j as d}from"./jsx-runtime-Cf8x2fCZ.js";import{r}from"./index-G8LIXM5I.js";import{r as L}from"./index-DoK7PxrN.js";import{c as q}from"./index-DSdvzt-y.js";const v=4,x=9,j=(n,e,o,t=0)=>{const i=n.parentElement;if(!i)return o;const l=n.getBoundingClientRect(),c=parseInt(getComputedStyle(e).getPropertyValue("max-width")),p=parseInt(getComputedStyle(e).getPropertyValue("max-height")),s=i.getBoundingClientRect(),a={top:l.top-s.top>p+t,right:s.right-l.right>c+t,bottom:s.bottom-l.bottom>=p+t,left:l.left-s.left>c+t};return a.top?"top":a.bottom?"bottom":a.left?"left":a.right?"right":o},V=(n,e,o,t=0)=>{let i=0,l=0;return n==="bottom"?(i=e.getBoundingClientRect().bottom+t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2):n==="left"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().left-o.getBoundingClientRect().width-t):n==="right"?(i=e.getBoundingClientRect().top+e.getBoundingClientRect().height/2-o.getBoundingClientRect().height/2,l=e.getBoundingClientRect().right+t):(n==="top"||!n)&&(i=e.getBoundingClientRect().top-o.getBoundingClientRect().height-t,l=e.getBoundingClientRect().left+e.getBoundingClientRect().width/2-o.getBoundingClientRect().width/2),{top:i,left:l}},k=(n,e=300)=>{const[o,t]=r.useState(n),[i,l]=r.useState(!1);return r.useEffect(()=>{if(n&&!o)t(!0),requestAnimationFrame(()=>{l(!0)});else if(!n&&o){l(!1);const c=setTimeout(()=>{t(!1)},e);return()=>clearTimeout(c)}},[n,o,e]),{shouldRender:o,isAnimating:i}},b=({children:n})=>{const[e,o]=r.useState(null);return r.useEffect(()=>{let t=document.getElementById("overlay-root");return t||(t=document.createElement("div"),t.setAttribute("id","overlay-root"),t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.style.zIndex="1000",document.body.appendChild(t)),o(t),()=>{t&&t.parentNode&&t.children.length===0&&document.body.removeChild(t)}},[]),e?d.jsx(d.Fragment,{children:L.createPortal(n,e)}):null};b.__docgenInfo={description:"",methods:[],displayName:"Overlay",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const F="_tooltip_1n5g5_3",M="_tooltipLabel_1n5g5_25",R={"tooltip-trigger":"_tooltip-trigger_1n5g5_3",tooltip:F,tooltipLabel:M},G=r.forwardRef(({children:n,position:e="top",alignment:o="center",label:t,arrow:i=!0,className:l="",triggerStyles:c,...p},s)=>{const a=r.useRef(null),T=r.useRef(null),[g,_]=r.useState(null),[P,S]=r.useState(e),[h,A]=r.useState({top:0,left:0}),[m,C]=r.useState(!1),{shouldRender:I,isAnimating:N}=k(m,150),O=r.useCallback(u=>{T.current=u,_(u),typeof s=="function"?s(u):s&&(s.current=u)},[s]),f=r.useCallback(()=>{if(m&&a.current&&g){const u=e==="auto"?j(a.current,g,"top",i?x:v):e,w=V(u,a.current,g,i?x:v);S(u),A(w)}},[m,e,i,g]);r.useEffect(()=>(f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}),[f]);const y=()=>{C(!0)},B=()=>{C(!1)};return d.jsxs("div",{ref:a,className:R["tooltip-trigger"],onMouseEnter:y,onMouseLeave:B,onFocus:y,onBlur:B,tabIndex:0,style:c,children:[n,I&&d.jsx(b,{children:d.jsx("div",{ref:O,className:q(R.tooltip,l),"data-position":P,"data-open":N||void 0,"data-alignment":o,"data-arrow":i,style:{top:`${h.top}px`,left:`${h.left}px`},...p,children:t&&d.jsx("span",{role:"tooltip",className:R.tooltipLabel,children:t})})})]})});G.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},triggerStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},position:{defaultValue:{value:'"top"',computed:!1},required:!1},alignment:{defaultValue:{value:'"center"',computed:!1},required:!1},arrow:{defaultValue:{value:"true",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}},composes:["CoreTooltipProps","Omit"]};export{G as T};
