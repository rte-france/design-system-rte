import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as s}from"./index-G8LIXM5I.js";import{R as X,A as Y}from"./RequiredIndicator-DqQYxNvw.js";import{I as Z}from"./Icon-DjEid3Hw.js";import{I as A}from"./IconButton-Cd1eiha_.js";import{c as ee}from"./index-DSdvzt-y.js";const te="_container_fb63b_1",ae="_inputContainer_fb63b_10",ie="_input_fb63b_10",se="_inputBar_fb63b_14",ne="_inputField_fb63b_14",le="_text_fb63b_21",re="_inputCounter_fb63b_25",ue="_leftIcon_fb63b_28",oe="_labelContainer_fb63b_40",ce="_inputLabel_fb63b_44",de="_withLeftIcon_fb63b_71",fe="_withRightIcon_fb63b_74",pe="_rightIcon_fb63b_82",t={container:te,inputContainer:ae,input:ie,inputBar:se,inputField:ne,text:le,inputCounter:re,leftIcon:ue,labelContainer:oe,inputLabel:ce,withLeftIcon:de,withRightIcon:fe,rightIcon:pe},me=s.forwardRef(({id:b,label:g,labelPosition:u="top",required:R=!1,showCounter:V,value:n,leftIcon:L,showRightIcon:l=!0,rightIconAction:i="clean",showLabelRequirement:B=!1,assistiveAppearance:S="description",showAssistiveIcon:O=!1,assistiveTextLabel:y="",error:_=!1,maxLength:o,disabled:c,readOnly:h,width:T,onChange:d,onRightIconClick:C,compactSpacing:F,placeholder:E,rightSlot:N,highlighted:H,...$},f)=>{const k=s.useRef(null),z=a=>["visibilityOn","visibilityOff"].includes(a)?p?"visibility-show":"visibility-hide":a==="clean"?"cancel":"",D=a=>["visibilityOn","visibilityOff"].includes(a)?p?"show text":"hide text":a==="clean"?"clear":"",[r,v]=s.useState(n??""),[j,x]=s.useState(r.length),[p,q]=s.useState(!!l&&i==="visibilityOn");s.useEffect(()=>{n!==void 0&&(v(n),x(n.length))},[n]),s.useEffect(()=>{q(!!l&&i==="visibilityOn")},[l,i]);const G=a=>{const I=a.target.value;v(I),x(I.length),d&&d(I)},J=()=>{i==="clean"&&(v(""),x(0),d&&d("")),["visibilityOn","visibilityOff"].includes(i)&&M()},K=()=>{C&&C(),J()},M=()=>{q(!p)},m=_?"error":L,P=ee(t.inputBar,m?t.withLeftIcon:"",i?t.withRightIcon:""),w=V&&typeof o=="number",Q=z(i),U=D(i),W=()=>h||c?!1:i==="clean"?!!(r!=null&&r.length)&&l:l&&!!i;return e.jsxs("div",{className:t.container,"data-label-position":u,"data-error":_,style:{width:T},"data-compact-spacing":F,children:[g&&e.jsxs("div",{className:t.text,children:[e.jsxs("div",{className:t.labelContainer,children:[e.jsxs("label",{className:t.inputLabel,id:`inputLabel-${b}`,htmlFor:b,children:[" ",g," "]}),e.jsx(X,{required:R,showLabelRequirement:B})]}),w&&u==="top"&&e.jsxs("p",{className:t.inputCounter,"data-testid":"input-counter",children:[" ",j,"/",o]})]}),e.jsxs("div",{className:t.inputContainer,children:[e.jsxs("div",{className:t.input,"data-label-position":u,"data-disabled":c,"data-read-only":h,children:[e.jsxs("div",{className:P,children:[m&&e.jsx(Z,{name:m,appearance:"outlined",className:t.leftIcon,"aria-hidden":"true","data-testid":`left-icon ${m}`}),e.jsx("input",{id:b,ref:a=>{k.current=a,typeof f=="function"?f(a):f&&(f.current=a)},type:p?"password":"text","data-error":_,"data-highlighted":H,className:t.inputField,maxLength:o,onChange:G,disabled:c,readOnly:h,value:c?"":r,placeholder:E,...$}),W()&&e.jsx(A,{name:Q,appearance:"outlined",variant:"neutral",size:"s",compactSpacing:!0,className:t.rightIcon,"aria-label":U,onClick:K,"data-testid":"right-icon"})]}),N&&e.jsx("div",{className:t.rightSlot,children:N})]}),y&&e.jsx(Y,{label:y,appearance:S,showIcon:O})]}),w&&u=="side"&&e.jsxs("p",{className:t.inputCounter,"data-testid":"input-counter",children:[" ",j,"/",o," "]})]})});me.__docgenInfo={description:"",methods:[],displayName:"BaseTextInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},rightSlot:{required:!1,tsType:{name:"ReactNode"},description:""},inputStyle:{required:!1,tsType:{name:"CSSProperties"},description:""},highlighted:{required:!1,tsType:{name:"boolean"},description:""},labelPosition:{defaultValue:{value:'"top"',computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},showRightIcon:{defaultValue:{value:"true",computed:!1},required:!1},rightIconAction:{defaultValue:{value:'"clean"',computed:!1},required:!1},showLabelRequirement:{defaultValue:{value:"false",computed:!1},required:!1},assistiveAppearance:{defaultValue:{value:'"description"',computed:!1},required:!1},showAssistiveIcon:{defaultValue:{value:"false",computed:!1},required:!1},assistiveTextLabel:{defaultValue:{value:'""',computed:!1},required:!1},error:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["CoreTextInputProps","Omit"]};export{me as B};
