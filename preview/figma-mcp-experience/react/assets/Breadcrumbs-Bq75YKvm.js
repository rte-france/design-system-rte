import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n}from"./index-G8LIXM5I.js";import{D as v,a as y}from"./DropdownItem-DwBxpgCe.js";import{I}from"./IconButton-tztXzQKL.js";import{c as B}from"./index-DSdvzt-y.js";import{L as h}from"./Link-BDst2CUj.js";import{T as x}from"./Tooltip-CWkf2d6y.js";const k="_breadcrumbItem_1xofj_29",w={breadcrumbItem:k},b=({item:r,isLast:s,breadcrumbItemMaxWidth:a})=>{const[d,m]=n.useState(!1),l=n.useRef(),o=n.useRef(null);return n.useEffect(()=>{var t;o.current&&(l.current=(t=o.current.querySelector("a"))==null?void 0:t.scrollWidth)},[]),n.useEffect(()=>{(()=>{l.current&&a&&m(l.current>=a)})()},[a]),e.jsx("div",{className:w.breadcrumbItem,ref:o,children:s?e.jsx(e.Fragment,{children:d?e.jsx(x,{label:r.label,position:"bottom",alignment:"center",triggerStyles:{maxWidth:`${a}px`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx("a",{role:"link","aria-label":r.label,"aria-current":"page",tabIndex:-1,style:{maxWidth:`${a}px`},children:r.label})}):e.jsx("a",{role:"link","aria-label":r.label,"aria-current":"page",tabIndex:0,style:{maxWidth:`${a}px`},children:r.label})}):e.jsx(e.Fragment,{children:d?e.jsx(x,{label:r.label,position:"bottom",alignment:"center",triggerStyles:{maxWidth:`${a}px`,textOverflow:"ellipsis",whiteSpace:"nowrap"},shouldFocusTrigger:!1,children:e.jsx(h,{href:r.link,label:r.label,subtle:!0,style:{color:"var(--content-tertiary)",maxWidth:`${a}px`}})}):e.jsx(h,{href:r.link,label:r.label,subtle:!0,style:{color:"var(--content-tertiary)",maxWidth:`${a}px`}})})},r.link)};b.__docgenInfo={description:"",methods:[],displayName:"BreadcrumbItem",props:{item:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  label: string;
  link: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"link",value:{name:"string",required:!0}}]}},description:""},isLast:{required:!0,tsType:{name:"boolean"},description:""},breadcrumbItemMaxWidth:{required:!1,tsType:{name:"number"},description:""}}};const A="Fil d'Ariane",j=3,E=2;function S(r,s=j,a=E){if(_(r,s))return{root:r[0],truncated:r.slice(1,r.length-a),remaining:r.slice(r.length-a)};throw new Error(`Breadcrumbs: 'items' should have at least ${s} items.`)}function _(r,s=j){return r.length>s}const L="_breadcrumbsContainer_2p6e3_29",R="_breadcrumbItem_2p6e3_35",T="_separator_2p6e3_64",u={breadcrumbsContainer:L,breadcrumbItem:R,separator:T},g=()=>e.jsx("span",{"aria-hidden":"true",className:u.separator,children:"/"}),C=n.forwardRef(({items:r,ariaLabel:s=A,breadcrumbItemMaxWidth:a,...d},m)=>{const[l,o]=n.useState(!1);if(_(r)){const{root:t,truncated:i,remaining:f}=S(r);return e.jsxs("nav",{ref:m,className:B(u.breadcrumbsContainer,i.length?u.truncated:""),...d,role:"navigation","aria-label":s,children:[e.jsx(b,{item:{label:t.label,link:t.link},isLast:!1,breadcrumbItemMaxWidth:a}),e.jsx(g,{}),e.jsx("span",{className:u.breadcrumbItem,children:e.jsx(v,{dropdownId:"breadcrumbs-truncated-list"+s,onClose:()=>{o(!1)},trigger:e.jsx(I,{name:"more-horiz","data-testid":"show-more",variant:"neutral",compactSpacing:!0,onClick:()=>o(!l)}),isOpen:l,offset:6,children:i.map((c,p)=>e.jsx(y,{label:c.label,link:c.link},c.label+p))})}),e.jsx("span",{"aria-hidden":"true",className:u.separator,children:"/"}),f.map((c,p)=>e.jsxs(n.Fragment,{children:[e.jsx(b,{item:c,isLast:p===f.length-1,breadcrumbItemMaxWidth:a}),p<f.length-1&&e.jsx(g,{})]},c.label+p))]})}return e.jsx("nav",{ref:m,className:u.breadcrumbsBadge,...d,role:"navigation","aria-label":"Fil d'Ariane",children:r.map((t,i)=>e.jsxs(n.Fragment,{children:[e.jsx(b,{item:t,isLast:i===r.length-1,breadcrumbItemMaxWidth:a}),i<r.length-1&&e.jsx(g,{})]},t.label+i))})});C.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{ariaLabel:{defaultValue:{value:`"Fil d'Ariane"`,computed:!1},required:!1}},composes:["BreadcrumbsPropsCore"]};export{C as B,b as a};
