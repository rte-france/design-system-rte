import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as _}from"./index-G8LIXM5I.js";import{I as v}from"./Icon-DjEid3Hw.js";import{L as H}from"./Link-DbCKFFRz.js";import{c as O}from"./index-DSdvzt-y.js";const q=16,x={required:"(obligatoire)",requiredIcon:"*",optional:"(facultatif)"},V="_container_1uykw_3",S="_textarea_1uykw_46",U="_label_1uykw_139",a={container:V,"top-position-container":"_top-position-container_1uykw_11","header-container":"_header-container_1uykw_32","textarea-container":"_textarea-container_1uykw_46",textarea:S,"assistive-text-link":"_assistive-text-link_1uykw_105","assistive-text":"_assistive-text_1uykw_105","character-counter":"_character-counter_1uykw_128",label:U,"requirement-indicator":"_requirement-indicator_1uykw_160"},X=_.forwardRef(({className:C="",id:m,name:T,required:s=!1,onChange:h,onBlur:y,label:o,labelId:p,labelPosition:t="top",assistiveTextLabel:f,assistiveTextAppearance:n="description",["aria-labelledby"]:g,assistiveTextLink:w,showLabelRequirement:i=!1,resizeable:b="true",maxLength:c,defaultValue:l,showCounter:I,value:d,...j},u)=>{const[R,A]=_.useState((d==null?void 0:d.length)||(l==null?void 0:l.length)||0),N=_.useRef(null),z=I&&c,M=r=>{var E;y&&y(r),(E=N.current)==null||E.scrollTo({top:0})},F=r=>{h&&h(r),c&&A(r.target.value.length)},k=s?i?x.required:x.requiredIcon:x.optional;return e.jsxs("div",{className:a.container,"data-label-position":t,children:[o&&t==="side"&&e.jsxs("label",{id:p,className:a.label,htmlFor:m,"data-label-position":t,children:[o,(i||s)&&e.jsx("span",{className:a["requirement-indicator"],"data-required":s,"data-show-label-requirement":i,"aria-hidden":"true",children:k})]}),e.jsxs("div",{className:a["top-position-container"],"data-label-position":t,children:[e.jsxs("div",{className:a["header-container"],"data-label-position":t,children:[o&&t==="top"&&e.jsxs("label",{id:p,className:a.label,htmlFor:m,"data-label-position":t,children:[o,(i||s)&&e.jsx("span",{className:a["requirement-indicator"],"data-required":s,"data-show-label-requirement":i,"aria-hidden":"true",children:k})]}),z&&e.jsxs("span",{className:a["character-counter"],children:[R,"/",c]})]}),e.jsxs("div",{className:a["textarea-container"],"data-label-position":t,children:[e.jsx("textarea",{ref:r=>{N.current=r,typeof u=="function"?u(r):u&&(u.current=r)},id:m,name:T,className:O(a.textarea,C),"data-resizeable":b,"data-assistive-text-appearance":n,onChange:F,"aria-labelledby":p||g,maxLength:c,onBlur:M,defaultValue:l,value:d,...j}),f&&e.jsx(e.Fragment,{children:n==="link"?e.jsx(H,{label:f,href:w,externalLink:!0,className:a["assistive-text-link"]}):e.jsxs("div",{className:a["assistive-text"],"data-assistive-text-appearance":n,"data-disabled":j.disabled,children:[n==="error"?e.jsx(v,{name:"error",size:q}):n==="success"?e.jsx(v,{name:"check-circle",size:q}):null,e.jsx("span",{children:f})]})})]})]})]})});X.__docgenInfo={description:"",methods:[],displayName:"Textarea",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: ChangeEvent<HTMLTextAreaElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLTextAreaElement"}],raw:"ChangeEvent<HTMLTextAreaElement>"},name:"event"}],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},labelPosition:{defaultValue:{value:'"top"',computed:!1},required:!1},assistiveTextAppearance:{defaultValue:{value:'"description"',computed:!1},required:!1},showLabelRequirement:{defaultValue:{value:"false",computed:!1},required:!1},resizeable:{defaultValue:{value:'"true"',computed:!1},required:!1}},composes:["CoreTextareaProps","Omit"]};export{X as T};
