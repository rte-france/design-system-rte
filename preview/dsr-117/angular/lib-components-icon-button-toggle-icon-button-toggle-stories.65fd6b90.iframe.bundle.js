"use strict";(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[28453],{"../core/constants/keyboard/keyboard-test.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$v:()=>TESTING_UP_KEY,G7:()=>TESTING_ENTER_KEY,Rl:()=>TESTING_ESCAPE_KEY,ZX:()=>TESTING_ARROW_LEFT_KEY,oz:()=>TESTING_DOWN_KEY,s1:()=>TESTING_ARROW_RIGHT_KEY,u5:()=>TESTING_SPACE_KEY});var _keyboard_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts");const TESTING_SPACE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.zP}}`,TESTING_ENTER_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.jD}}`,TESTING_ESCAPE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.aH}}`,TESTING_UP_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.M0}}`,TESTING_DOWN_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.tt}}`,TESTING_ARROW_RIGHT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.Zh}}`,TESTING_ARROW_LEFT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.ST}}`},"./.storybook/testing/testing.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>focusElementBeforeComponent});var _home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_storybook_test__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs");const focusElementBeforeComponent=function(){var _ref=(0,_home_runner_work_design_system_rte_design_system_rte_packages_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__.A)(function*(canvasElement){const canvas=(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.ux)(canvasElement);yield(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.fm)(()=>{(0,_storybook_test__WEBPACK_IMPORTED_MODULE_1__.ux)(canvas.getByTestId("mode-switcher")).getByRole("button").focus()})});return function focusElementBeforeComponent(_x){return _ref.apply(this,arguments)}}()},"./projects/ds-rte-lib/src/lib/components/icon-button-toggle/icon-button-toggle.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CompactSizing:()=>CompactSizing,Default:()=>Default,KeyboardInteraction:()=>KeyboardInteraction,Sizing:()=>Sizing,__namedExportsOrder:()=>__namedExportsOrder,default:()=>icon_button_toggle_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),keyboard_test_constants=__webpack_require__("../core/constants/keyboard/keyboard-test.constants.ts"),dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),testing_utils=__webpack_require__("./.storybook/testing/testing.utils.ts"),icon_map=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon/icon-map.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),common_button_constants=__webpack_require__("../core/components/button/common/common-button.constants.ts"),icon_button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon-button/icon-button.component.ts");let IconButtonToggleComponent=class IconButtonToggleComponent{constructor(){this.disabled=(0,core.input)(!1),this.name=core.input.required(),this.size=(0,core.input)("m"),this.variant=(0,core.input)("primary"),this.type=(0,core.input)("button"),this.compactSpacing=(0,core.input)(!1),this.ariaLabel=(0,core.input)(),this.ariaLabelledBy=(0,core.input)(),this.selected=(0,core.input)(),this.internalSelected=(0,core.signal)(!1),this.defaultSelected=(0,core.input)(!1),this.isControlled=(0,core.computed)(()=>void 0!==this.selected()),this.click=(0,core.output)(),this.isSelected=(0,core.computed)(()=>this.isControlled()?this.selected():this.internalSelected()),this.buttonIconSize=(0,core.computed)(()=>common_button_constants.f[this.size()])}toggleInternalSelectedState(){this.internalSelected.set(!this.internalSelected())}onClick(event){event.stopPropagation(),this.click.emit(event),this.isControlled()||this.toggleInternalSelectedState()}static{this.propDecorators={disabled:[{type:core.Input,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],name:[{type:core.Input,args:[{isSignal:!0,alias:"name",required:!0,transform:void 0}]}],size:[{type:core.Input,args:[{isSignal:!0,alias:"size",required:!1,transform:void 0}]}],variant:[{type:core.Input,args:[{isSignal:!0,alias:"variant",required:!1,transform:void 0}]}],type:[{type:core.Input,args:[{isSignal:!0,alias:"type",required:!1,transform:void 0}]}],compactSpacing:[{type:core.Input,args:[{isSignal:!0,alias:"compactSpacing",required:!1,transform:void 0}]}],ariaLabel:[{type:core.Input,args:[{isSignal:!0,alias:"ariaLabel",required:!1,transform:void 0}]}],ariaLabelledBy:[{type:core.Input,args:[{isSignal:!0,alias:"ariaLabelledBy",required:!1,transform:void 0}]}],selected:[{type:core.Input,args:[{isSignal:!0,alias:"selected",required:!1,transform:void 0}]}],defaultSelected:[{type:core.Input,args:[{isSignal:!0,alias:"defaultSelected",required:!1,transform:void 0}]}],click:[{type:core.Output,args:["click"]}]}}};IconButtonToggleComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-icon-button-toggle",imports:[common.CommonModule,icon_button_component.x],standalone:!0,template:'<rte-icon-button \n  [size]="size()" \n  [name]="name()" \n  [compactSpacing]="compactSpacing()"\n  [disabled]="disabled()"\n  [ariaLabel]="ariaLabel()"\n  [ariaLabelledBy]="ariaLabelledBy()"\n  [type]="type()"\n  [variant]="variant()"\n  [appearance]="isSelected() ? \'filled\' : \'outlined\'"\n  (click)="onClick($event)"\n/>',changeDetection:core.ChangeDetectionStrategy.OnPush})],IconButtonToggleComponent);const icon_button_toggle_stories={title:"Composants/IconButtonToggle",id:"IconButtonToggle",component:IconButtonToggleComponent,tags:["autodocs"],argTypes:{name:{control:"select",options:[...Object.keys(icon_map.kb)].sort((a,b)=>a.localeCompare(b)),description:"Nom de l’icône à afficher",defaultValue:"check"},variant:{control:"select",options:["primary","secondary","text","transparent","danger"]},size:{control:"select",options:["s","m","l"]},compactSpacing:{control:"boolean",description:"Utiliser un espacement compact"},disabled:{control:"boolean"},selected:{control:"boolean",description:"Indique si l'icône est sélectionnée en mode contrôlé"},defaultSelected:{control:"boolean",description:"Valeur par défaut de la sélection en mode non contrôlé"}}},mockFn=(0,dist.fn)(),Default={args:{name:"settings",size:"m",disabled:!1,compactSpacing:!1,variant:"primary",ariaLabel:"icon button aria label",click:mockFn,selected:void 0,defaultSelected:!1},render:args=>({props:{...args},template:`\n    <rte-icon-button-toggle \n        name=${args.name} \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n        [defaultSelected]="${args.defaultSelected}"\n        (click)="click()"\n        [ariaLabel]="ariaLabel"\n      />\n    `}),play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement}){const iconButton=(0,dist.ux)(canvasElement).getByRole("button",{name:"icon button aria label"});yield dist.Q4.click(iconButton),(0,dist.E3)(mockFn).toHaveBeenCalled(),iconButton.blur()}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const Sizing={args:{...Default.args,compactSpacing:!1},render:args=>({props:{...args},template:`\n    <div style="display: flex; gap: 8px">\n      <rte-icon-button-toggle \n        size="s" \n        name=${args.name} \n        data-testid="small-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n      <rte-icon-button-toggle\n        name=${args.name} \n        data-testid="medium-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n      <rte-icon-button-toggle \n        size="l" \n        name=${args.name} \n        data-testid="large-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n    </div>\n    `}),play:(_ref2=(0,asyncToGenerator.A)(function*({canvasElement}){const canvas=(0,dist.ux)(canvasElement),smallIconButton=canvas.getByTestId("small-icon-button").getElementsByTagName("button")[0],mediumIconButton=canvas.getByTestId("medium-icon-button").getElementsByTagName("button")[0],largeIconButton=canvas.getByTestId("large-icon-button").getElementsByTagName("button")[0];(0,dist.E3)(smallIconButton.clientHeight).toBe(24),(0,dist.E3)(mediumIconButton.clientHeight).toBe(32),(0,dist.E3)(largeIconButton.clientHeight).toBe(40)}),function play(_x2){return _ref2.apply(this,arguments)})};var _ref2;const CompactSizing={args:{...Default.args,compactSpacing:!0},render:args=>({props:{...args},template:`\n    <div style="display: flex; gap: 8px">\n      <rte-icon-button-toggle \n        size="s" \n        name=${args.name} \n        data-testid="small-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n      <rte-icon-button-toggle \n        name=${args.name} \n        data-testid="medium-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n      <rte-icon-button-toggle \n        size="l" \n        name=${args.name} \n        data-testid="large-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="'Small Icon Button'"\n        [type]="'${args.type}'"\n        [variant]="'${args.variant}'"\n      />\n    </div>\n    `}),play:(_ref3=(0,asyncToGenerator.A)(function*({canvasElement}){const canvas=(0,dist.ux)(canvasElement),smallIconButton=canvas.getByTestId("small-icon-button").getElementsByTagName("button")[0],mediumIconButton=canvas.getByTestId("medium-icon-button").getElementsByTagName("button")[0],largeIconButton=canvas.getByTestId("large-icon-button").getElementsByTagName("button")[0];(0,dist.E3)(smallIconButton.clientHeight).toBe(16),(0,dist.E3)(mediumIconButton.clientHeight).toBe(20),(0,dist.E3)(largeIconButton.clientHeight).toBe(24)}),function play(_x3){return _ref3.apply(this,arguments)})};var _ref3;const KeyboardInteraction={args:{...Default.args},play:(_ref4=(0,asyncToGenerator.A)(function*({canvasElement}){const button=(0,dist.ux)(canvasElement).getByRole("button",{name:"icon button aria label"});(0,testing_utils.r)(canvasElement),yield dist.Q4.tab(),(0,dist.E3)(button).toHaveFocus(),yield dist.Q4.keyboard(keyboard_test_constants.G7),yield dist.Q4.keyboard(keyboard_test_constants.u5),(0,dist.E3)(mockFn).toHaveBeenCalledTimes(2),button.blur()}),function play(_x4){return _ref4.apply(this,arguments)})};var _ref4;const __namedExportsOrder=["Default","Sizing","CompactSizing","KeyboardInteraction"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    name: "settings",\n    size: "m",\n    disabled: false,\n    compactSpacing: false,\n    variant: "primary",\n    ariaLabel: "icon button aria label",\n    click: mockFn,\n    selected: undefined,\n    defaultSelected: false\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    template: `\n    <rte-icon-button-toggle \n        name=${args.name} \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n        [defaultSelected]="${args.defaultSelected}"\n        (click)="click()"\n        [ariaLabel]="ariaLabel"\n      />\n    `\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const iconButton = canvas.getByRole("button", {\n      name: "icon button aria label"\n    });\n    await userEvent.click(iconButton);\n    expect(mockFn).toHaveBeenCalled();\n    iconButton.blur();\n  }\n}',...Default.parameters?.docs?.source}}},Sizing.parameters={...Sizing.parameters,docs:{...Sizing.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    compactSpacing: false\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    template: `\n    <div style="display: flex; gap: 8px">\n      <rte-icon-button-toggle \n        size="s" \n        name=${args.name} \n        data-testid="small-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n      <rte-icon-button-toggle\n        name=${args.name} \n        data-testid="medium-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n      <rte-icon-button-toggle \n        size="l" \n        name=${args.name} \n        data-testid="large-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n    </div>\n    `\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const smallIconButton = canvas.getByTestId("small-icon-button").getElementsByTagName("button")[0];\n    const mediumIconButton = canvas.getByTestId("medium-icon-button").getElementsByTagName("button")[0];\n    const largeIconButton = canvas.getByTestId("large-icon-button").getElementsByTagName("button")[0];\n    expect(smallIconButton.clientHeight).toBe(24);\n    expect(mediumIconButton.clientHeight).toBe(32);\n    expect(largeIconButton.clientHeight).toBe(40);\n  }\n}',...Sizing.parameters?.docs?.source}}},CompactSizing.parameters={...CompactSizing.parameters,docs:{...CompactSizing.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    compactSpacing: true\n  },\n  render: args => ({\n    props: {\n      ...args\n    },\n    template: `\n    <div style="display: flex; gap: 8px">\n      <rte-icon-button-toggle \n        size="s" \n        name=${args.name} \n        data-testid="small-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n      <rte-icon-button-toggle \n        name=${args.name} \n        data-testid="medium-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n      <rte-icon-button-toggle \n        size="l" \n        name=${args.name} \n        data-testid="large-icon-button" \n        [compactSpacing]="${args.compactSpacing}" \n        [disabled]="${args.disabled}"\n        [selected]="${args.selected}"\n        [defaultSelected]="${args.defaultSelected}"\n        [ariaLabel]="\'Small Icon Button\'"\n        [type]="\'${args.type}\'"\n        [variant]="\'${args.variant}\'"\n      />\n    </div>\n    `\n  }),\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const smallIconButton = canvas.getByTestId("small-icon-button").getElementsByTagName("button")[0];\n    const mediumIconButton = canvas.getByTestId("medium-icon-button").getElementsByTagName("button")[0];\n    const largeIconButton = canvas.getByTestId("large-icon-button").getElementsByTagName("button")[0];\n    expect(smallIconButton.clientHeight).toBe(16);\n    expect(mediumIconButton.clientHeight).toBe(20);\n    expect(largeIconButton.clientHeight).toBe(24);\n  }\n}',...CompactSizing.parameters?.docs?.source}}},KeyboardInteraction.parameters={...KeyboardInteraction.parameters,docs:{...KeyboardInteraction.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const button = canvas.getByRole("button", {\n      name: "icon button aria label"\n    });\n    focusElementBeforeComponent(canvasElement);\n    await userEvent.tab();\n    expect(button).toHaveFocus();\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    await userEvent.keyboard(TESTING_SPACE_KEY);\n    expect(mockFn).toHaveBeenCalledTimes(2);\n    button.blur();\n  }\n}',...KeyboardInteraction.parameters?.docs?.source}}}}}]);