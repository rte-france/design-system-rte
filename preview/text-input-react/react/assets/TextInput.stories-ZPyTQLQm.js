import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{f as J}from"./index-DaW6VCyr.js";import{I as f,a as K,T as M}from"./Icon-DiFFcmJA.js";import{r as o}from"./index-G8LIXM5I.js";import{I as Q}from"./IconButton-BXlREZl-.js";import{L as U}from"./Link-CcecjTWT.js";import{c as W}from"./index-DSdvzt-y.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-CqkleIqs.js";const X="_container_s03l7_3",Y="_text_s03l7_16",Z="_inputCounter_s03l7_19",ee="_inputContainer_s03l7_22",te="_input_s03l7_19",se="_inputBar_s03l7_22",ae="_leftIcon_s03l7_22",ne="_labelContainer_s03l7_34",ie="_inputLabel_s03l7_39",le="_requiredText_s03l7_49",oe="_requiredIconContainer_s03l7_61",re="_withLeftIcon_s03l7_85",ce="_inputField_s03l7_85",ue="_withRightIcon_s03l7_88",de="_rightIcon_s03l7_96",pe="_assistiveText_s03l7_150",fe="_assistiveIconError_s03l7_156",me="_assistiveLabel_s03l7_162",t={container:X,text:Y,inputCounter:Z,inputContainer:ee,input:te,inputBar:se,leftIcon:ae,labelContainer:ne,inputLabel:ie,requiredText:le,requiredIconContainer:oe,withLeftIcon:re,inputField:ce,withRightIcon:ue,rightIcon:de,assistiveText:pe,assistiveIconError:fe,assistiveLabel:me},I=o.forwardRef(({label:a,labelPosition:l="top",required:R=!1,showCounter:O,value:i,defaultValue:b,leftIcon:h="",showRightIcon:k,rightIconAction:n="clean",showLabelRequirement:v=!1,assistiveAppearance:u="description",showAssistiveIcon:g=!1,assistiveTextLabel:_="",error:d=!1,maxLength:r,disabled:E,readOnly:C,onChange:y,onRightIconClick:j,...B},p)=>{const c=o.useRef(null),F=s=>["visibilityOn","visibilityOff"].includes(s)?x?"visibility-show":"visibility-hide":s==="clean"?"close":"",[q,A]=o.useState((i==null?void 0:i.length)||(b==null?void 0:b.length)||0),[x,N]=o.useState(n==="visibilityOn");o.useEffect(()=>{c.current&&(c.current.value=i||"")},[i]),o.useEffect(()=>{N(n==="visibilityOn")},[n]);const S=s=>{y&&y(s.target.value),r&&A(s.target.value.length)},z=()=>{n==="clean"&&c.current&&(c.current.value=""),["visibilityOn","visibilityOff"].includes(n)&&P()},H=()=>{j&&(j(),z())},P=()=>{N(!x)},D=W(t.inputBar,h?t.withLeftIcon:"",n?t.withRightIcon:""),$=()=>{let s="";return a&&(s=a),d&&(s+=" error"),i&&(s+=` ${i}`),s},L=O&&typeof r=="number",G=F(n);return e.jsxs("div",{className:t.container,"data-label-position":l,"data-error":d,children:[a&&e.jsxs("div",{className:t.text,children:[e.jsxs("div",{className:t.labelContainer,children:[e.jsxs("label",{className:t.inputLabel,id:"inputLabel",children:[" ",a," "]}),R?v?e.jsx("p",{className:t.requiredText,children:"(obligatoire)"}):e.jsx("div",{className:t.requiredIconContainer,children:e.jsx(f,{name:"asterisk",size:8})}):v?e.jsx("p",{className:t.requiredText,children:"(optionnel)"}):null]}),L&&l==="top"&&e.jsxs("p",{className:t.inputCounter,children:[" ",q,"/",r]})]}),e.jsxs("div",{className:t.inputContainer,children:[e.jsx("div",{className:t.input,"data-label-position":l,"data-disabled":E,"data-read-only":C,children:e.jsxs("div",{className:D,children:[h&&e.jsx(f,{name:d?"error":h,appearance:"outlined",className:t.leftIcon,"aria-hidden":"true"}),e.jsx("input",{"aria-label":$(),role:"textbox",ref:s=>{c.current=s,typeof p=="function"?p(s):p&&(p.current=s)},type:x?"password":"text","data-read-only":C,"data-error":d,className:t.inputField,maxLength:r,onChange:S,...B}),k&&n&&e.jsx(Q,{name:G,appearance:"outlined",variant:"transparent",className:t.rightIcon,onClick:H})]})}),_&&e.jsxs("div",{className:t.assistiveText,children:[g&&u==="error"&&e.jsx(f,{name:"error",appearance:"outlined",className:t.assistiveIconError,size:12}),g&&u==="success"&&e.jsx(f,{name:"check",appearance:"outlined",className:t.assistiveIconSucces,size:12}),u==="link"?e.jsx(U,{label:_}):e.jsxs("p",{className:t.assistiveLabel,"data-appearance":u,children:[" ",_," "]})]})]}),L&&l=="side"&&e.jsxs("p",{className:t.inputCounter,children:[" ",q,"/",r," "]})]})});I.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},labelPosition:{defaultValue:{value:'"top"',computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},leftIcon:{defaultValue:{value:'""',computed:!1},required:!1},rightIconAction:{defaultValue:{value:'"clean"',computed:!1},required:!1},showLabelRequirement:{defaultValue:{value:"false",computed:!1},required:!1},assistiveAppearance:{defaultValue:{value:'"description"',computed:!1},required:!1},showAssistiveIcon:{defaultValue:{value:"false",computed:!1},required:!1},assistiveTextLabel:{defaultValue:{value:'""',computed:!1},required:!1},error:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["CoreTextInputProps","Omit"]};const be=Object.keys(K),he=Object.keys(M),_e=J(),Le={title:"TextInput",component:I,tags:["autodocs"],argTypes:{value:{control:"text"},label:{control:"text",defaultValue:"Label"},labelPosition:{control:{type:"radio"},options:["top","side"],defaultValue:"top"},required:{control:"boolean",defaultValue:!1},showCounter:{control:"boolean",defaultValue:!1},maxLength:{control:"number",defaultValue:150},leftIcon:{control:"select",options:["",...be,...he].sort((a,l)=>a.localeCompare(l)),description:"Nom de l’icône à afficher",defaultValue:"check"},rightIconAction:{control:{type:"select"},options:["","clean","visibilityOn","visibilityOff"],defaultValue:"clean"},showLabelRequirement:{control:"boolean",defaultValue:!1},assistiveAppearance:{control:{type:"select"},options:["description","error","success","link"],defaultValue:"description"},showAssistiveIcon:{control:"boolean",defaultValue:!1},assistiveTextLabel:{control:"text",defaultValue:""},disabled:{control:"boolean",defaultValue:!1},error:{control:"boolean",defaultValue:!1},readOnly:{control:"boolean",defaultValue:!1},onChange:_e,onRightIconClick:{action:"right icon clicked"}}},m={args:{label:"Label",labelPosition:"top",required:!1,showCounter:!1,showRightIcon:!0,rightIconAction:"visibilityOn",showLabelRequirement:!1,assistiveAppearance:"description",showAssistiveIcon:!1,assistiveTextLabel:"Assistive Text",disabled:!1,error:!1,readOnly:!1,maxLength:150},render:a=>e.jsx(I,{...a})};var w,T,V;m.parameters={...m.parameters,docs:{...(w=m.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    label: "Label",
    labelPosition: "top",
    required: false,
    showCounter: false,
    showRightIcon: true,
    rightIconAction: "visibilityOn",
    showLabelRequirement: false,
    assistiveAppearance: "description",
    showAssistiveIcon: false,
    assistiveTextLabel: "Assistive Text",
    disabled: false,
    error: false,
    readOnly: false,
    maxLength: 150
  } as TextInputProps,
  render: args => <TextInput {...args} />
}`,...(V=(T=m.parameters)==null?void 0:T.docs)==null?void 0:V.source}}};const we=["Default"];export{m as Default,we as __namedExportsOrder,Le as default};
