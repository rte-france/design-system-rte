(self.webpackChunk_design_system_rte_angular_builder=self.webpackChunk_design_system_rte_angular_builder||[]).push([[12119],{"../core/constants/keyboard/keyboard-test.constants.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$v:()=>TESTING_UP_KEY,G7:()=>TESTING_ENTER_KEY,Rl:()=>TESTING_ESCAPE_KEY,ZX:()=>TESTING_ARROW_LEFT_KEY,oz:()=>TESTING_DOWN_KEY,s1:()=>TESTING_ARROW_RIGHT_KEY,u5:()=>TESTING_SPACE_KEY});var _keyboard_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts");const TESTING_SPACE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.zP}}`,TESTING_ENTER_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.jD}}`,TESTING_ESCAPE_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.aH}}`,TESTING_UP_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.M0}}`,TESTING_DOWN_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.tt}}`,TESTING_ARROW_RIGHT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.Zh}}`,TESTING_ARROW_LEFT_KEY=`{${_keyboard_constants__WEBPACK_IMPORTED_MODULE_0__.ST}}`},"./projects/ds-rte-lib/src/lib/components/searchbar/searchbar.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".searchbar-container {\n  display: flex;\n  flex-direction: column;\n  width: fit-content;\n}\n\n.text-input-wrapper {\n  min-width: 0;\n  display: flex;\n  align-items: stretch;\n  border-radius: 8px;\n  transition: outline 200ms, border 200ms;\n}\n.text-input-wrapper:focus-within {\n  outline: 1px solid var(--border-brand-default);\n  outline-offset: 0;\n}\n\n.search-button {\n  flex-shrink: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/ds-rte-lib/src/lib/components/searchbar/stories/searchbar.component.stories.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,KeyboardNavigationAndSearch:()=>KeyboardNavigationAndSearch,KeyboardNavigationWithFilteredOptions:()=>KeyboardNavigationWithFilteredOptions,WithDropdown:()=>WithDropdown,WithFilteredOptions:()=>WithFilteredOptions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>searchbar_component_stories});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("../../node_modules/@angular/core/fesm2022/core.mjs"),APPEARANCE_CONFIG={primary:{showSearchButton:!0,showLeftIcon:!1},secondary:{showSearchButton:!1,showLeftIcon:!0}},keyboard_test_constants=__webpack_require__("../core/constants/keyboard/keyboard-test.constants.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),test_dist=__webpack_require__("../../node_modules/@storybook/test/dist/index.mjs"),dropdown_module=__webpack_require__("./projects/ds-rte-lib/src/lib/components/dropdown/dropdown.module.ts");var searchbar_componentngResource=__webpack_require__("./projects/ds-rte-lib/src/lib/components/searchbar/searchbar.component.scss?ngResource"),searchbar_componentngResource_default=__webpack_require__.n(searchbar_componentngResource),common=__webpack_require__("../../node_modules/@angular/common/fesm2022/common.mjs"),keyboard_constants=__webpack_require__("../core/constants/keyboard/keyboard.constants.ts"),icon_button_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/icon-button/icon-button.component.ts"),base_text_input_component=__webpack_require__("./projects/ds-rte-lib/src/lib/components/text-input/base-text-input/base-text-input.component.ts");let SearchbarComponent=class SearchbarComponent{constructor(){this.id=(0,core.input)(),this.label=(0,core.input)("Rechercher"),this.disabled=(0,core.input)(!1),this.showResetButton=(0,core.input)(!0),this.appearance=(0,core.input)("primary"),this.compactSpacing=(0,core.input)(!1),this.value=(0,core.input)(""),this.assistiveText=(0,core.input)(""),this.valueChange=(0,core.output)(),this.searchEvent=(0,core.output)(),this.clear=(0,core.output)(),this.hasFocusWithin=(0,core.signal)(!1),this.appearanceConfig=(0,core.computed)(()=>APPEARANCE_CONFIG[this.appearance()]),this.placeholder=(0,core.computed)(()=>this.disabled()?"Recherche indisponible":this.label()),this.textInputStyles=(0,core.computed)(()=>{const styles={},hasLeftIcon=this.appearanceConfig().showLeftIcon;return"primary"===this.appearance()?(styles["border-right"]="none",styles["border-radius"]="8px 0 0 8px",hasLeftIcon||(styles["padding-left"]="8px")):"secondary"===this.appearance()&&(styles["border-radius"]="8px"),styles}),this.searchButtonStyles=(0,core.computed)(()=>{const styles={width:"44px","border-radius":"0 8px 8px 0",display:"flex","justify-content":"center"};return this.compactSpacing()&&(styles.height="24px"),styles})}handleChange(value){this.valueChange.emit(value)}handleSearch(){this.searchEvent.emit(this.value())}handleEnter(event){event.key===keyboard_constants.jD&&this.handleSearch()}handleClear(){this.valueChange.emit(""),this.clear.emit()}handleFocusIn(){this.hasFocusWithin.set(!0)}handleFocusOut(event){const next=event.relatedTarget,currentTarget=event.currentTarget;next&&currentTarget.contains(next)||this.hasFocusWithin.set(!1)}static{this.propDecorators={id:[{type:core.Input,args:[{isSignal:!0,alias:"id",required:!1,transform:void 0}]}],label:[{type:core.Input,args:[{isSignal:!0,alias:"label",required:!1,transform:void 0}]}],disabled:[{type:core.Input,args:[{isSignal:!0,alias:"disabled",required:!1,transform:void 0}]}],showResetButton:[{type:core.Input,args:[{isSignal:!0,alias:"showResetButton",required:!1,transform:void 0}]}],appearance:[{type:core.Input,args:[{isSignal:!0,alias:"appearance",required:!1,transform:void 0}]}],compactSpacing:[{type:core.Input,args:[{isSignal:!0,alias:"compactSpacing",required:!1,transform:void 0}]}],value:[{type:core.Input,args:[{isSignal:!0,alias:"value",required:!1,transform:void 0}]}],assistiveText:[{type:core.Input,args:[{isSignal:!0,alias:"assistiveText",required:!1,transform:void 0}]}],valueChange:[{type:core.Output,args:["valueChange"]}],searchEvent:[{type:core.Output,args:["searchEvent"]}],clear:[{type:core.Output,args:["clear"]}]}}};SearchbarComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"rte-searchbar",imports:[common.CommonModule,base_text_input_component.a,icon_button_component.x],standalone:!0,template:'<div class="searchbar-container" role="search" [ngClass]="appearance()">\n  <div\n    class="text-input-wrapper"\n    [attr.data-disabled]="disabled()"\n    (focusin)="handleFocusIn()"\n    (focusout)="handleFocusOut($event)"\n  >\n    <rte-base-text-input\n      rightIconAction="clean"\n      autocomplete="off"\n      [id]="id() ?? \'\'"\n      [placeholder]="placeholder()"\n      [disabled]="disabled()"\n      [value]="value()"\n      [showRightIcon]="showResetButton()"\n      [assistiveTextLabel]="assistiveText()"\n      [compactSpacing]="compactSpacing()"\n      [leftIcon]="appearanceConfig().showLeftIcon ? \'search\' : null"\n      [customStyle]="textInputStyles()"\n      [highlighted]="hasFocusWithin()"\n      (valueChange)="handleChange($event)"\n      (rightIconClick)="handleClear()"\n    >\n      @if (appearanceConfig().showSearchButton) {\n        <rte-icon-button\n          baseTextInputRightSlot\n          name="search"\n          size="m"\n          variant="primary"\n          appearance="filled"\n          class="search-button"\n          [ariaLabel]="label()"\n          [disabled]="disabled()"\n          [compactSpacing]="compactSpacing()"\n          [customStyle]="searchButtonStyles()"\n          (clickEvent)="handleSearch()"\n        />\n      }\n    </rte-base-text-input>\n  </div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[searchbar_componentngResource_default()]})],SearchbarComponent);let DropdownWrapperComponent=class DropdownWrapperComponent{constructor(){this.wrapperRef=(0,core.viewChild)("wrapperRef"),this.width=(0,core.signal)(void 0),(0,core.effect)(()=>{const element=this.wrapperRef()?.nativeElement;element&&this.width.set(element.offsetWidth)},{allowSignalWrites:!0})}static{this.ctorParameters=()=>[]}static{this.propDecorators={wrapperRef:[{type:core.ViewChild,args:["wrapperRef",{isSignal:!0}]}]}}};DropdownWrapperComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"story-dropdown-wrapper",standalone:!0,template:'\n    <div #wrapperRef style="width: fit-content">\n      <ng-content></ng-content>\n    </div>\n  '}),(0,tslib_es6.Sn)("design:paramtypes",[])],DropdownWrapperComponent);const searchbar_component_stories={title:"Composants/Searchbar/Searchbar",component:SearchbarComponent,tags:["autodocs"],decorators:[(0,dist.moduleMetadata)({imports:[SearchbarComponent,dropdown_module.k,DropdownWrapperComponent]})],argTypes:{id:{control:"text"},appearance:{control:"select",options:["primary","secondary"]},compactSpacing:{control:"boolean"},showResetButton:{control:"boolean",defaultValue:!0},assistiveText:{control:"text",defaultValue:""},value:{control:"text"},disabled:{control:"boolean"},label:{control:"text",defaultValue:"Rechercher"}}},Default={args:{id:"searchbar-default",appearance:"primary",showResetButton:!0,assistiveText:"Texte assistif",label:"Rechercher",value:"",disabled:!1}},WithDropdown={args:{id:"searchbar-with-dropdown",appearance:"primary",showResetButton:!0,assistiveText:"Select a filter option before typing",value:"",disabled:!1},render:args=>{const options=["option1","option2","option3"],isOpenState=(0,core.signal)(!1),searchValue=(0,core.signal)(""),dropdownItems=(0,core.computed)(()=>options.map(option=>({label:option}))),isOpen=(0,core.computed)(()=>isOpenState()&&dropdownItems().length>0);return{props:{...args,searchValue,isOpen,dropdownItems,handleChange:function handleChange(value){searchValue.set(value),dropdownItems().length>0?isOpenState.set(!0):isOpenState.set(!1)},handleOptionSelect:function handleOptionSelect(event){console.log("Selected option:",event.id),searchValue.set(event.id),isOpenState.set(!1)},handleDropdownClose:function handleDropdownClose(){isOpenState.set(!1)},DROPDOWN_OFFSET:10},template:'\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                [id]="id"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [showResetButton]="showResetButton"\n                [assistiveText]="assistiveText"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="dropdownItems()" />\n          </div>\n        </story-dropdown-wrapper>\n      '}}},WithFilteredOptions={args:{...Default.args,compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2","Banana","Banana2","Cherry","Date","Elderberry","Fig","Grape","Honeydew","Kiwi","Lemon"],searchValue=(0,core.signal)(""),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase())).map(option=>({label:option}))}),isOpen=(0,core.computed)(()=>!!filteredOptions().length);return{props:{...args,searchValue,isOpen,filteredOptions,handleChange:function handleChange(value){searchValue.set(value)},handleDropdownClose:function handleDropdownClose(){searchValue.set("")},handleOptionSelect:function handleOptionSelect(event){searchValue.set(event.id)},DROPDOWN_OFFSET:10},template:'\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-filtered"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="assistiveText"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      '}}},KeyboardNavigationWithFilteredOptions={args:{compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2"],searchValue=(0,core.signal)(""),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase())).map(option=>({label:option}))}),isOpen=(0,core.computed)(()=>filteredOptions().length>0);return{props:{...args,searchValue,isOpen,filteredOptions,handleChange:function handleChange(value){console.log(value),searchValue.set(value)},handleOptionSelect:function handleOptionSelect(event){console.log("Selected option:",event.id),searchValue.set(event.id)},handleDropdownClose:function handleDropdownClose(){searchValue.set("")},DROPDOWN_OFFSET:10},template:'\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-keyboard-navigation"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="\'Type at least 3 characters to filter options\'"\n                [showResetButton]="true"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      '}},play:(_ref=(0,asyncToGenerator.A)(function*({canvasElement}){const input=(0,test_dist.ux)(canvasElement).getByRole("textbox");yield test_dist.Q4.click(input),(0,test_dist.E3)(input).toHaveFocus(),yield test_dist.Q4.type(input,"app"),yield(0,test_dist.fm)(()=>{const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-menu-id]");(0,test_dist.E3)(dropdown).toBeInTheDocument()}),yield test_dist.Q4.tab(),yield test_dist.Q4.tab(),yield test_dist.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-menu-id]"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");yield(0,test_dist.fm)(()=>{(0,test_dist.E3)(menuItems?.[0]).toHaveFocus()}),yield test_dist.Q4.keyboard(keyboard_test_constants.oz),(0,test_dist.E3)(menuItems?.[1]).toHaveFocus(),yield test_dist.Q4.keyboard(keyboard_test_constants.G7),yield(0,test_dist.fm)(()=>{(0,test_dist.E3)(input.value).toBe("Apple2")})}),function play(_x){return _ref.apply(this,arguments)})};var _ref;const KeyboardNavigationAndSearch={args:{...Default.args,compactSpacing:!1,appearance:"primary"},render:args=>{const allOptions=["Apple","Apple2"],searchValue=(0,core.signal)(""),filteredOptions=(0,core.computed)(()=>{const value=searchValue();return!value||value.length<3?[]:allOptions.filter(option=>option.toLowerCase().includes(value.toLowerCase())).map(option=>({label:option}))}),isOpen=(0,core.computed)(()=>filteredOptions().length>0);return{props:{...args,searchValue,isOpen,filteredOptions,handleChange:function handleChange(value){searchValue.set(value)},handleOptionSelect:function handleOptionSelect(event){searchValue.set(event.id)},handleSearch:function handleSearch(value){console.log("Searched content:",value)},handleDropdownClose:function handleDropdownClose(){searchValue.set("")},DROPDOWN_OFFSET:10},template:'\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-keyboard-search"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="\'Type at least 3 characters to filter options\'"\n                [showResetButton]="true"\n                (valueChange)="handleChange($event)"\n                (searchEvent)="handleSearch($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      '}},play:(_ref2=(0,asyncToGenerator.A)(function*({canvasElement,args}){const canvas=(0,test_dist.ux)(canvasElement),input=canvas.getByRole("textbox");yield test_dist.Q4.click(input),(0,test_dist.E3)(input).toHaveFocus(),yield test_dist.Q4.type(input,"app"),yield(0,test_dist.fm)(()=>{const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-menu-id]");(0,test_dist.E3)(dropdown).toBeInTheDocument()}),yield test_dist.Q4.tab(),yield test_dist.Q4.tab(),yield test_dist.Q4.tab();const overlay=document.getElementById("overlay-root"),dropdown=overlay?.querySelector("[data-menu-id]"),menuItems=dropdown?.querySelector("ul")?.querySelectorAll("li");yield(0,test_dist.fm)(()=>{(0,test_dist.E3)(menuItems?.[0]).toHaveFocus()}),yield test_dist.Q4.keyboard(keyboard_test_constants.G7),yield(0,test_dist.fm)(()=>{(0,test_dist.E3)(input.value).toBe("Apple")});const searchButton=canvas.getByRole("button",{name:args.label});yield test_dist.Q4.click(searchButton)}),function play(_x2){return _ref2.apply(this,arguments)})};var _ref2;const __namedExportsOrder=["Default","WithDropdown","WithFilteredOptions","KeyboardNavigationWithFilteredOptions","KeyboardNavigationAndSearch"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "searchbar-default",\n    appearance: "primary",\n    showResetButton: true,\n    assistiveText: "Texte assistif",\n    label: "Rechercher",\n    value: "",\n    disabled: false\n  }\n}',...Default.parameters?.docs?.source}}},WithDropdown.parameters={...WithDropdown.parameters,docs:{...WithDropdown.parameters?.docs,source:{originalSource:'{\n  args: {\n    id: "searchbar-with-dropdown",\n    appearance: "primary",\n    showResetButton: true,\n    assistiveText: "Select a filter option before typing",\n    value: "",\n    disabled: false\n  },\n  render: args => {\n    const options = ["option1", "option2", "option3"];\n    const isOpenState = signal(false);\n    const searchValue = signal("");\n    const dropdownItems = computed<DropdownItemConfig[]>(() => {\n      return options.map(option => ({\n        label: option\n      }));\n    });\n    const isOpen = computed(() => {\n      return isOpenState() && dropdownItems().length > 0;\n    });\n    function handleChange(value: string): void {\n      searchValue.set(value);\n      if (dropdownItems().length > 0) {\n        isOpenState.set(true);\n      } else {\n        isOpenState.set(false);\n      }\n    }\n    function handleOptionSelect(event: {\n      event: Event;\n      id: string;\n    }): void {\n      console.log("Selected option:", event.id);\n      searchValue.set(event.id);\n      isOpenState.set(false);\n    }\n    function handleDropdownClose(): void {\n      isOpenState.set(false);\n    }\n    return {\n      props: {\n        ...args,\n        searchValue,\n        isOpen,\n        dropdownItems,\n        handleChange,\n        handleOptionSelect,\n        handleDropdownClose,\n        DROPDOWN_OFFSET\n      },\n      template: `\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                [id]="id"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [showResetButton]="showResetButton"\n                [assistiveText]="assistiveText"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="dropdownItems()" />\n          </div>\n        </story-dropdown-wrapper>\n      `\n    };\n  }\n}',...WithDropdown.parameters?.docs?.source}}},WithFilteredOptions.parameters={...WithFilteredOptions.parameters,docs:{...WithFilteredOptions.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2", "Banana", "Banana2", "Cherry", "Date", "Elderberry", "Fig", "Grape", "Honeydew", "Kiwi", "Lemon"];\n    const searchValue = signal("");\n    const filteredOptions = computed<DropdownItemConfig[]>(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase())).map(option => ({\n        label: option\n      }));\n    });\n    const isOpen = computed(() => {\n      return !!filteredOptions().length;\n    });\n    function handleChange(value: string): void {\n      searchValue.set(value);\n    }\n    function handleDropdownClose(): void {\n      searchValue.set("");\n    }\n    function handleOptionSelect(event: {\n      event: Event;\n      id: string;\n    }): void {\n      searchValue.set(event.id);\n    }\n    return {\n      props: {\n        ...args,\n        searchValue,\n        isOpen,\n        filteredOptions,\n        handleChange,\n        handleDropdownClose,\n        handleOptionSelect,\n        DROPDOWN_OFFSET\n      },\n      template: `\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-filtered"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="assistiveText"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      `\n    };\n  }\n}',...WithFilteredOptions.parameters?.docs?.source}}},KeyboardNavigationWithFilteredOptions.parameters={...KeyboardNavigationWithFilteredOptions.parameters,docs:{...KeyboardNavigationWithFilteredOptions.parameters?.docs,source:{originalSource:'{\n  args: {\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2"];\n    const searchValue = signal("");\n    const filteredOptions = computed<DropdownItemConfig[]>(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase())).map(option => ({\n        label: option\n      }));\n    });\n    const isOpen = computed(() => {\n      return filteredOptions().length > 0;\n    });\n    function handleChange(value: string): void {\n      console.log(value);\n      searchValue.set(value);\n    }\n    function handleOptionSelect(event: {\n      event: Event;\n      id: string;\n    }): void {\n      console.log("Selected option:", event.id);\n      searchValue.set(event.id);\n    }\n    function handleDropdownClose(): void {\n      searchValue.set("");\n    }\n    return {\n      props: {\n        ...args,\n        searchValue,\n        isOpen,\n        filteredOptions,\n        handleChange,\n        handleOptionSelect,\n        handleDropdownClose,\n        DROPDOWN_OFFSET\n      },\n      template: `\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-keyboard-navigation"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="\'Type at least 3 characters to filter options\'"\n                [showResetButton]="true"\n                (valueChange)="handleChange($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      `\n    };\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    const input = canvas.getByRole("textbox") as HTMLInputElement;\n    await userEvent.click(input);\n    expect(input).toHaveFocus();\n    await userEvent.type(input, "app");\n    await waitFor(() => {\n      const overlay = document.getElementById("overlay-root");\n      const dropdown = overlay?.querySelector("[data-menu-id]");\n      expect(dropdown).toBeInTheDocument();\n    });\n    await userEvent.tab();\n    await userEvent.tab();\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("[data-menu-id]");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    await waitFor(() => {\n      expect(menuItems?.[0]).toHaveFocus();\n    });\n    await userEvent.keyboard(TESTING_DOWN_KEY);\n    expect(menuItems?.[1]).toHaveFocus();\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    await waitFor(() => {\n      expect(input.value).toBe("Apple2");\n    });\n  }\n}',...KeyboardNavigationWithFilteredOptions.parameters?.docs?.source}}},KeyboardNavigationAndSearch.parameters={...KeyboardNavigationAndSearch.parameters,docs:{...KeyboardNavigationAndSearch.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    compactSpacing: false,\n    appearance: "primary"\n  },\n  render: args => {\n    const allOptions = ["Apple", "Apple2"];\n    const searchValue = signal("");\n    const filteredOptions = computed<DropdownItemConfig[]>(() => {\n      const value = searchValue();\n      if (!value || value.length < 3) {\n        return [];\n      }\n      return allOptions.filter(option => option.toLowerCase().includes(value.toLowerCase())).map(option => ({\n        label: option\n      }));\n    });\n    const isOpen = computed(() => {\n      return filteredOptions().length > 0;\n    });\n    function handleChange(value: string): void {\n      searchValue.set(value);\n    }\n    function handleOptionSelect(event: {\n      event: Event;\n      id: string;\n    }): void {\n      searchValue.set(event.id);\n    }\n    function handleSearch(value: string | undefined): void {\n      console.log("Searched content:", value);\n    }\n    function handleDropdownClose(): void {\n      searchValue.set("");\n    }\n    return {\n      props: {\n        ...args,\n        searchValue,\n        isOpen,\n        filteredOptions,\n        handleChange,\n        handleOptionSelect,\n        handleSearch,\n        handleDropdownClose,\n        DROPDOWN_OFFSET\n      },\n      template: `\n        <story-dropdown-wrapper #wrapper>\n          <div\n            rteDropdown\n            rteDropdownPosition="bottom"\n            [rteDropdownIsOpen]="isOpen()"\n            [rteDropdownOffset]="DROPDOWN_OFFSET"\n            [rteDropdownWidth]="wrapper.width()"\n            [rteDropdownAutofocus]="false"\n            [rteDropdownAutoOpen]="false"\n            (menuEvent)="handleOptionSelect($event)"\n          >\n            <div rteDropdownTrigger style="width: fit-content">\n              <rte-searchbar\n                id="searchbar-keyboard-search"\n                [appearance]="appearance"\n                [value]="searchValue()"\n                [compactSpacing]="compactSpacing"\n                [assistiveText]="\'Type at least 3 characters to filter options\'"\n                [showResetButton]="true"\n                (valueChange)="handleChange($event)"\n                (searchEvent)="handleSearch($event)"\n              />\n            </div>\n            <rte-dropdown-menu [items]="filteredOptions()" />\n          </div>\n        </story-dropdown-wrapper>\n      `\n    };\n  },\n  play: async ({\n    canvasElement,\n    args\n  }) => {\n    const canvas = within(canvasElement);\n    const input = canvas.getByRole("textbox") as HTMLInputElement;\n    await userEvent.click(input);\n    expect(input).toHaveFocus();\n    await userEvent.type(input, "app");\n    await waitFor(() => {\n      const overlay = document.getElementById("overlay-root");\n      const dropdown = overlay?.querySelector("[data-menu-id]");\n      expect(dropdown).toBeInTheDocument();\n    });\n    await userEvent.tab();\n    await userEvent.tab();\n    await userEvent.tab();\n    const overlay = document.getElementById("overlay-root");\n    const dropdown = overlay?.querySelector("[data-menu-id]");\n    const menuItems = dropdown?.querySelector("ul")?.querySelectorAll("li");\n    await waitFor(() => {\n      expect(menuItems?.[0]).toHaveFocus();\n    });\n    await userEvent.keyboard(TESTING_ENTER_KEY);\n    await waitFor(() => {\n      expect(input.value).toBe("Apple");\n    });\n    const searchButton = canvas.getByRole("button", {\n      name: args.label\n    });\n    await userEvent.click(searchButton);\n  }\n}',...KeyboardNavigationAndSearch.parameters?.docs?.source}}}}}]);